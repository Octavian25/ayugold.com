{"version":3,"sources":["FICO/PembayaranSupplier.jsx","helper.jsx"],"names":["PembayaranSupplierSimpan","lazy","server","process","REACT_APP_BACKEND_URL_NON_MASTER","PembayaranSupplier","props","inputChange","input","e","setState","target","value","date","Date","formatedDate","getFullYear","getMonth","getDate","state","listSupplier","tanggal","bonBayar","detail","tipeTransaksi","Axios","get","then","res","data","catch","err","console","log","this","dispatch","setTampungCiok","settampungRongsok","getUUID","undefined","noBon","warning","supplier","localStorage","getItem","RosokKosong","kode_jenis","bruto","kadar_transaksi","netto","bayarCiok","JSON","parse","bayarRosok","bayarTrf","transfer_rp","harga_emas","transfer_netto","tanggal_transfer","acc_from","acc_to","bayarTunai","cash_rp","cash_netto","isi","kode_supplier","split","no_bon","no_bayar","noFaktur","type_bon","jumlah_hutang","totalHutangRP","totalHutangGr","total_putus_titip","total_denda","Number","denda","total_hutang","detail_ciok","bayar_ciok","detail_rongsok","bayar_rongsok","detail_cash","bayar_cash","detail_trf","bayar_trf","detail_giro","giro_rp","giro_netto","tanggal_giro","no_giro","bank_giro","bank_to","bayar_giro","detail_faktur","setItem","stringify","progressSend","tableRows","parseFloat","toLocaleString","forEach","ticket","i","ticketData","kodeBarang","kadarTransaksi","push","discount","bonus","columTable","AxiosMasterPost","Swal","fire","position","icon","text","showConfirmButton","timer","finishSend","k","removeItem","multipleDeleteLocal","history","PrintNota","window","back","response","className","style","color","id","alert","role","type","data-dismiss","aria-label","aria-hidden","to","HeaderCard","title","href","data-toggle","aria-expanded","onClick","fallback","width","height","tampungCiok","tampungRongsok","totalCiok","totalRongsok","totalBrutoCiok","totalBrutoRongsok","onSubmit","handleSubmit","jenisTransaksi","onSend","Component","connect","pembayaranSupplierList","provinsi","pembayaranSupplier","error","username"],"mappings":"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","file":"static/js/140.ba336da1.chunk.js","sourcesContent":["import React, { Component, lazy, Suspense } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  setTampungCiok,\r\n  settampungRongsok,\r\n} from \"../actions/pembayaranSupplierAction\";\r\nimport Swal from \"sweetalert2\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\nimport PrintNota from \"../Stocking/Component/PrintNota\";\r\nimport { warning } from \"../Alert\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { finishSend, progressSend } from \"../actions/LogicAction\";\r\nimport HeaderCard from \"../HeaderCard\";\r\nimport { AxiosMasterPost } from \"../Axios\";\r\nimport { multipleDeleteLocal } from \"../helper\";\r\n\r\nconst PembayaranSupplierSimpan = lazy(() =>\r\n  import(\"./PembayaranSupplierSimpan\")\r\n);\r\nconst maptoState = (state) => {\r\n  return {\r\n    pembayaranSupplierList: state.provinsi.pembayaranSupplier,\r\n    tampungCiok: state.provinsi.tampungCiok,\r\n    tampungRongsok: state.provinsi.tampungRongsok,\r\n    totalCiok: state.provinsi.totalCiok,\r\n    totalRongsok: state.provinsi.totalRongsok,\r\n    totalBrutoCiok: state.provinsi.totalBrutoCiok,\r\n    totalBrutoRongsok: state.provinsi.totalBrutoRongsok,\r\n    alert: state.provinsi.alert,\r\n    error: state.provinsi.error,\r\n    noFaktur: state.provinsi.noFaktur,\r\n    username: state.provinsi.username,\r\n    onSend: state.provinsi.onSend,\r\n  };\r\n};\r\nconst server = process.env.REACT_APP_BACKEND_URL_NON_MASTER;\r\nclass PembayaranSupplier extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var date = new Date();\r\n    var formatedDate = `${date.getFullYear()}-${\r\n      date.getMonth() + 1\r\n    }-${date.getDate()}`;\r\n    this.state = {\r\n      listSupplier: [],\r\n      tanggal: formatedDate,\r\n      bonBayar: \"\",\r\n      detail: \"\",\r\n      tipeTransaksi: \"BARANG\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    Axios.get(server + \"suppliers\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listSupplier: res.data,\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n    this.props.dispatch(setTampungCiok());\r\n    this.props.dispatch(settampungRongsok());\r\n    this.props.dispatch(getUUID());\r\n  }\r\n\r\n  inputChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit(data) {\r\n    if (data.noBon === undefined) {\r\n      warning(\"Mohon isi nomor bon\");\r\n      return false;\r\n    } else if (data.tanggal === undefined) {\r\n      warning(\"Mohon isi Tanggal\");\r\n      return false;\r\n    } else if (data.supplier === undefined) {\r\n      warning(\"Mohon isi Supplier\");\r\n      return false;\r\n    } else if (\r\n      localStorage.getItem(\"alatBayarBarang\") === null &&\r\n      localStorage.getItem(\"alatBayarTrf\") === null &&\r\n      localStorage.getItem(\"alatBayarTunai\") === null &&\r\n      localStorage.getItem(\"alatBayarTunaiRp\") === null &&\r\n      localStorage.getItem(\"alatBayarTrfRp\") === null\r\n    ) {\r\n      warning(\"Mohon Masukan Alat Pembayaran Paling Tidak 1 Jenis\");\r\n      return false;\r\n    }\r\n    var RosokKosong = {\r\n      kode_jenis: \"-\",\r\n      bruto: 0,\r\n      kadar_transaksi: 0,\r\n      netto: 0,\r\n    };\r\n    var cashKosong = {\r\n      cash_rp: 0,\r\n      harga_emas: 0,\r\n      cash_netto: 0,\r\n    };\r\n    var transferKosong = {\r\n      transfer_rp: 0,\r\n      harga_emas: 0,\r\n      transfer_netto: 0,\r\n      tanggal_transfer: \"2021-01-01\",\r\n      acc_from: \"-\",\r\n      acc_to: \"-\",\r\n    };\r\n    var bayarCiok = JSON.parse(localStorage.getItem(\"alatBayarCiok\")) || [\r\n      RosokKosong,\r\n    ];\r\n    var bayarRosok = JSON.parse(localStorage.getItem(\"alatBayarRosok\")) || [\r\n      RosokKosong,\r\n    ];\r\n    var bayarTrf = JSON.parse(localStorage.getItem(\"alatBayarTrf\")) || [\r\n      transferKosong,\r\n    ];\r\n    var bayarTunai = JSON.parse(localStorage.getItem(\"alatBayarTunai\")) || [\r\n      cashKosong,\r\n    ];\r\n    var split = data.supplier ? data.supplier : \"DEFAULT | DEFUALT\";\r\n    var supplier = split.split(\"|\");\r\n    var isi = {\r\n      kode_supplier: supplier[0],\r\n      no_bon: data.noBon,\r\n      no_bayar: this.props.noFaktur,\r\n      tanggal: data.tanggal,\r\n      type_bon: this.state.tipeTransaksi === \"RUPIAH\" ? \"BON RP\" : \"BON GR\",\r\n      jumlah_hutang:\r\n        this.state.tipeTransaksi === \"RUPIAH\"\r\n          ? data.totalHutangRP\r\n          : data.totalHutangGr,\r\n      total_putus_titip: 0,\r\n      total_denda: Number(data.denda) || 0,\r\n      total_hutang:\r\n        Number(\r\n          this.state.tipeTransaksi === \"RUPIAH\"\r\n            ? data.totalHutangRP\r\n            : data.totalHutangGr\r\n        ) + Number(data.denda) || 0,\r\n      detail_ciok: bayarCiok,\r\n      bayar_ciok: localStorage.getItem(\"totalCiok\") || 0,\r\n      detail_rongsok: bayarRosok,\r\n      bayar_rongsok: localStorage.getItem(\"totalRongsok\") || 0,\r\n      detail_cash: bayarTunai,\r\n      bayar_cash: localStorage.getItem(\"totalTunaiRp\") || 0,\r\n      detail_trf: bayarTrf,\r\n      bayar_trf: localStorage.getItem(\"totalTrfRp\") || 0,\r\n      detail_giro: [\r\n        {\r\n          giro_rp: 0,\r\n          harga_emas: 0,\r\n          giro_netto: 0,\r\n          tanggal_giro: \"-\",\r\n          no_giro: \"-\",\r\n          bank_giro: \"-\",\r\n          acc_to: \"-\",\r\n          bank_to: \"-\",\r\n        },\r\n      ],\r\n      bayar_giro: 0,\r\n      detail_faktur: JSON.parse(localStorage.getItem(\"listHutang\")),\r\n    };\r\n    localStorage.setItem(\"notaPembayaranSupplier\", JSON.stringify(isi));\r\n    this.props.dispatch(progressSend());\r\n    // INISIALISASI AUTOTABLE\r\n    const tableRows = [\r\n      [\r\n        \"Tunai\",\r\n        \"Tunai\",\r\n        parseFloat(\r\n          bayarTunai !== null ? bayarTunai[0].cash_rp : 0\r\n        ).toLocaleString(\"id-ID\"),\r\n        parseFloat(\r\n          bayarTunai !== null ? bayarTunai[0].harga_emas : 0\r\n        ).toLocaleString(\"id-ID\"),\r\n        \"\",\r\n        parseFloat(bayarTunai !== null ? bayarTunai[0].cash_netto : 0),\r\n        \"\",\r\n        \"\",\r\n      ],\r\n      [\r\n        \"Transfer\",\r\n        \"Transfer\",\r\n        parseFloat(\r\n          bayarTrf !== null ? bayarTrf[0].transfer_rp : 0\r\n        ).toLocaleString(\"id-ID\"),\r\n        parseFloat(\r\n          bayarTrf !== null ? bayarTrf[0].harga_emas : 0\r\n        ).toLocaleString(\"id-ID\"),\r\n        \"\",\r\n        parseFloat(bayarTrf !== null ? bayarTrf[0].transfer_netto : 0),\r\n        \"\",\r\n        \"\",\r\n      ],\r\n    ];\r\n    var ciok = JSON.parse(localStorage.getItem(\"ciokTemp\")) || [];\r\n    ciok.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        \"Ciok\",\r\n        ticket.kodeBarang,\r\n        ticket.bruto,\r\n        \"\",\r\n        ticket.kadarTransaksi,\r\n        ticket.netto,\r\n        \"\",\r\n        \"\",\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    var rongsok = JSON.parse(localStorage.getItem(\"rongsokTemp\")) || [];\r\n    rongsok.forEach((ticket, i) => {\r\n      const ticketData = [\r\n        \"Rongsok\",\r\n        ticket.kodeBarang,\r\n        ticket.bruto,\r\n        \"\",\r\n        ticket.kadarTransaksi,\r\n        ticket.netto,\r\n        \"\",\r\n        \"\",\r\n      ];\r\n      // push each tickcet's info into a row\r\n      tableRows.push(ticketData);\r\n    });\r\n    var discount = [\r\n      \"DISCOUNT\",\r\n      \"DISCOUNT\",\r\n      localStorage.getItem(\"discount\") !== null\r\n        ? localStorage.getItem(\"discount\")\r\n        : 0,\r\n      \"\",\r\n      \"\",\r\n      localStorage.getItem(\"discount\") !== null\r\n        ? localStorage.getItem(\"discount\")\r\n        : 0,\r\n      \"\",\r\n      \"\",\r\n    ];\r\n    tableRows.push(discount);\r\n    var bonus = [\r\n      \"BONUS\",\r\n      \"BONUS\",\r\n      localStorage.getItem(\"bonus\") !== null\r\n        ? localStorage.getItem(\"bonus\")\r\n        : 0,\r\n      \"\",\r\n      \"\",\r\n      localStorage.getItem(\"bonus\") !== null\r\n        ? localStorage.getItem(\"bonus\")\r\n        : 0,\r\n      \"\",\r\n      \"\",\r\n    ];\r\n    tableRows.push(bonus);\r\n    var denda = [\r\n      \"DENDA\",\r\n      \"DENDA\",\r\n      localStorage.getItem(\"denda\") !== null\r\n        ? localStorage.getItem(\"denda\")\r\n        : 0,\r\n      \"\",\r\n      \"\",\r\n      localStorage.getItem(\"denda\") !== null\r\n        ? localStorage.getItem(\"denda\")\r\n        : 0,\r\n      \"\",\r\n      \"\",\r\n    ];\r\n    tableRows.push(denda);\r\n    console.log(JSON.stringify(tableRows));\r\n    var columTable = [\r\n      \"Jenis \\nPembayaran\",\r\n      \"Nama \\nBarang\",\r\n      \"Gross \\nBayar\",\r\n      \"Harga\",\r\n      \"Kadar\",\r\n      \"Netto\",\r\n      \"Pkg\",\r\n      \"Gw+Pkg\",\r\n    ];\r\n    // AKHIR INISIALISASI AUTOTABLE\r\n    console.log(JSON.stringify(isi));\r\n    // return false;\r\n    AxiosMasterPost(\"trx-supplier/bayar-hutang\", isi)\r\n      .then((res) =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          text: \"Data Berhasil Ditambahkan!\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n          .then(() => this.props.dispatch(finishSend()))\r\n          .then(() =>\r\n            multipleDeleteLocal([\r\n              \"PrintPembayaranSupplier\",\r\n              \"totalTunaiRp\",\r\n              \"alatBayarTunai\",\r\n              \"totalTrfRp\",\r\n              \"alatBayarTrf\",\r\n              \"ciokTemp\",\r\n              \"alatBayarCiok\",\r\n              \"totalCiok\",\r\n              \"totalBrutoCiok\",\r\n              \"rongsokTemp\",\r\n              \"alatBayarRosok\",\r\n              \"totalRongsok\",\r\n              \"totalBrutoRongsok\",\r\n              \"listHutang\",\r\n              \"discount\",\r\n              \"bonus\",\r\n              \"denda\",\r\n            ])\r\n          )\r\n          .then(() => localStorage.setItem(\"isLogin\", true))\r\n          .then(() => this.props.dispatch(getUUID()))\r\n          .then(() => this.props.history.push(\"KlasifikasiSupplier\"))\r\n          .then(() =>\r\n            PrintNota(\r\n              \"Tanggal\",\r\n              data.tanggal,\r\n              \"\",\r\n              \"\",\r\n              \"Nomor \\nPembayaran\",\r\n              data.noBon,\r\n              \"\",\r\n              \"\",\r\n              \"ADMIN\",\r\n              data.tanggal,\r\n              \"\",\r\n              columTable,\r\n              \"NOTA PEMBAYARAN SUPPLIER\",\r\n              tableRows\r\n            )\r\n          )\r\n          .then(() => window.history.back())\r\n      )\r\n      .catch((err) =>\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"error\",\r\n          text: err.response.data,\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then(() => this.props.dispatch(finishSend()))\r\n      );\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\" style={{ color: \"black\" }}>\r\n        <div id=\"notif_alert\" className={this.props.alert} role=\"alert\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"close\"\r\n            data-dismiss=\"alert\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <span aria-hidden=\"true\">×</span>\r\n          </button>\r\n          <strong>Error - </strong> Tidak Bisa Mengambil Data\r\n        </div>\r\n        <ol className=\"breadcrumb mb-2\">\r\n          <Link to=\"/KlasifikasiSupplier\">\r\n            <button type=\"button\" className=\"btn btn-secondary\">\r\n              <i className=\"fa fa-angle-left mr-3\" aria-hidden=\"true\"></i> Back\r\n            </button>\r\n          </Link>\r\n        </ol>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"card\">\r\n              <HeaderCard title=\"Pembayaran Hutang Supplier\" />\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <ul className=\"nav nav-pills bg-nav-pills nav-justified mb-3\">\r\n                      <li className=\"nav-item\">\r\n                        <a\r\n                          href=\"#rupiah\"\r\n                          data-toggle=\"tab\"\r\n                          aria-expanded=\"false\"\r\n                          className=\"nav-link rounded-0 active\"\r\n                          onClick={() =>\r\n                            this.setState({\r\n                              tipeTransaksi: \"BARANG\",\r\n                            })\r\n                          }\r\n                        >\r\n                          <i className=\"mdi mdi-home-variant d-lg-none d-block mr-1\" />\r\n                          <span className=\"d-none d-lg-block\">Gram</span>\r\n                        </a>\r\n                      </li>\r\n                      <li className=\"nav-item\">\r\n                        <a\r\n                          href=\"#gram\"\r\n                          data-toggle=\"tab\"\r\n                          aria-expanded=\"true\"\r\n                          className=\"nav-link rounded-0 \"\r\n                          onClick={() =>\r\n                            this.setState({\r\n                              tipeTransaksi: \"RUPIAH\",\r\n                            })\r\n                          }\r\n                        >\r\n                          <i className=\"mdi mdi-account-circle d-lg-none d-block mr-1\" />\r\n                          <span className=\"d-none d-lg-block\">Rupiah</span>\r\n                        </a>\r\n                      </li>\r\n                    </ul>\r\n                    <div className=\"tab-content\">\r\n                      <div className=\"tab-pane show active\" id=\"rupiah\">\r\n                        <Suspense\r\n                          fallback={<Skeleton width={\"100%\"} height={200} />}\r\n                        >\r\n                          <PembayaranSupplierSimpan\r\n                            tampungCiok={this.props.tampungCiok}\r\n                            tampungRongsok={this.props.tampungRongsok}\r\n                            totalCiok={this.props.totalCiok}\r\n                            totalRongsok={this.props.totalRongsok}\r\n                            totalBrutoCiok={this.props.totalBrutoCiok}\r\n                            totalBrutoRongsok={this.props.totalBrutoRongsok}\r\n                            onSubmit={(data) => this.handleSubmit(data)}\r\n                            jenisTransaksi={this.state.tipeTransaksi}\r\n                            onSend={this.props.onSend}\r\n                          />\r\n                        </Suspense>\r\n                      </div>\r\n                      <div className=\"tab-pane\" id=\"gram\">\r\n                        <Suspense\r\n                          fallback={<Skeleton width={\"100%\"} height={200} />}\r\n                        >\r\n                          <PembayaranSupplierSimpan\r\n                            tampungCiok={this.props.tampungCiok}\r\n                            tampungRongsok={this.props.tampungRongsok}\r\n                            totalCiok={this.props.totalCiok}\r\n                            totalRongsok={this.props.totalRongsok}\r\n                            totalBrutoCiok={this.props.totalBrutoCiok}\r\n                            totalBrutoRongsok={this.props.totalBrutoRongsok}\r\n                            onSubmit={(data) => this.handleSubmit(data)}\r\n                            jenisTransaksi={this.state.tipeTransaksi}\r\n                            onSend={this.props.onSend}\r\n                          />\r\n                        </Suspense>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptoState, null)(PembayaranSupplier);\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nexport const getToday = () => {\r\n  return (\r\n    new Date().getFullYear() +\r\n    \"-\" +\r\n    (\"0\" + (new Date().getMonth() + 1)).slice(-2) +\r\n    \"-\" +\r\n    (\"0\" + new Date().getDate()).slice(-2)\r\n  );\r\n};\r\n\r\nexport const encryptascii = (str) => {\r\n  let key = process.env.REACT_APP_ENCKEY;\r\n  let dataKey = {};\r\n  for (let i = 0; i < key.length; i++) {\r\n    dataKey[i] = key.substr(`${i}`, 1);\r\n  }\r\n\r\n  let strEnc = \"\";\r\n  let nkey = 0;\r\n  let jml = str.length;\r\n\r\n  for (let i = 0; i < parseInt(jml); i++) {\r\n    strEnc =\r\n      strEnc + hexEncode(str[i].charCodeAt(0) + dataKey[nkey].charCodeAt(0));\r\n\r\n    if (nkey === Object.keys(dataKey).length - 1) {\r\n      nkey = 0;\r\n    }\r\n    nkey = nkey + 1;\r\n  }\r\n  return strEnc.toUpperCase();\r\n};\r\n\r\nexport const decryptascii = (str) => {\r\n  if (str !== null) {\r\n    let key = process.env.REACT_APP_ENCKEY;\r\n    let dataKey = {};\r\n    for (let i = 0; i < key.length; i++) {\r\n      dataKey[i] = key.substr(`${i}`, 1);\r\n    }\r\n\r\n    let strDec = \"\";\r\n    let nkey = 0;\r\n    let jml = str.length;\r\n    let i = 0;\r\n    while (i < parseInt(jml)) {\r\n      strDec =\r\n        strDec + chr(hexdec(str.substr(i, 2)) - dataKey[nkey].charCodeAt(0));\r\n      if (nkey === Object.keys(dataKey).length - 1) {\r\n        nkey = 0;\r\n      }\r\n      nkey = nkey + 1;\r\n      i = i + 2;\r\n    }\r\n    return strDec;\r\n  }\r\n};\r\nexport const hexEncode = (str) => {\r\n  var result = \"\";\r\n  result = str.toString(16);\r\n  return result;\r\n};\r\n\r\nexport const hexdec = (hex) => {\r\n  var str = \"\";\r\n  str = parseInt(hex, 16);\r\n  return str;\r\n};\r\nexport const chr = (asci) => {\r\n  var str = \"\";\r\n  str = String.fromCharCode(asci);\r\n  return str;\r\n};\r\n\r\nexport const formatDate = (date) => {\r\n  var d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [year, month, day].join(\"-\");\r\n};\r\n\r\nexport const parseIsoDatetime = (dtstr) => {\r\n  let hasil = dtstr.substr(0, 10);\r\n  return hasil;\r\n};\r\n\r\nexport const multipleDeleteLocal = (data = []) => {\r\n  data.forEach((k) => {\r\n    if (localStorage.getItem(k) !== null) {\r\n      localStorage.removeItem(k);\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  });\r\n};\r\n\r\nexport const formatDateISO = (value) => {\r\n  let pattern = \"####-##-##\";\r\n  var i = 0,\r\n    date = value.toString();\r\n  return pattern.replace(/#/g, (_) => date[i++]);\r\n};\r\n\r\nexport const SkeletonLoading = ({ label }) => (\r\n  <div className=\"form-group\">\r\n    <label> {label} </label>\r\n    <Skeleton className=\"form-control\" />\r\n  </div>\r\n);\r\n"],"sourceRoot":""}