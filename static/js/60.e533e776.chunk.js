(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[60],{1172:function(e,t,a){"use strict";a.r(t);var n=a(47),r=a(35),i=a(36),l=a(38),o=a(37),c=a(0),s=a.n(c),p=a(467),u=a(468),m=a(18),d=a(529),h=a.n(d),g=a(503),b=a.n(g),f=a(53),k=a(68),S=a.n(k),v=a(10),E=a.n(v),x=a(56),N=a(184),_=a(608),y=a(3),O=function(e){var t=e.input,a=e.label,n=e.type,r=e.limit,i=e.readOnly,l=e.meta,o=l.touched,c=l.error,p=l.warning;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},a),s.a.createElement("input",Object.assign({},t,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:r,readOnly:i})),o&&(c&&s.a.createElement("p",{className:"invalid-feedback"},c)||p&&s.a.createElement("p",null,p)))},T="http://192.168.1.27:7001/api/v1/",j=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).disabledButton=function(e){e.target.disabled=!0},i.changeTransaksi=function(e){return function(t){switch(i.setState(Object(n.a)({},e,t.target.value)),t.target.value){case"Penerimaan Barang Supplier":i.props.dispatch(Object(f.j)());break;case"Return Supplier":i.props.dispatch(Object(f.k)());break;case"Tolakan Return Supplier":i.props.dispatch(Object(f.n)());break;case"Pembayaran Hutang Supplier":i.props.dispatch(Object(f.i)());break;case"Tolakan Pembayaran Supplier":i.props.dispatch(Object(f.m)());break;case"Titip Supplier":i.props.dispatch(Object(f.l)());break;default:console.log("ERROR")}}},i.nextStep=function(){var e=i.state.step;0===e&&i.setState({step:e+1,step2:"row",step1:"row d-none"}),i.props.dispatch(Object(f.h)())},i.prevStep=function(){var e=i.state.step;1===e&&i.setState({step:e-1,step2:"row d-none",step1:"row"})},i.changeInput=function(e){return function(t){i.setState(Object(n.a)({},e,t.target.value))}},i.state={columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"no_bon",text:"Nomor Bon"},{dataField:"kode_supplier",text:"Supplier"},{dataField:"keterangan",text:"Keterangan"},{dataField:"total_bruto",text:"Total Bruto"},{dataField:"total_netto",text:"Total Netto"},{dataField:"bon_rp",text:"Bon RP"},{dataField:"titip_gr",text:"Titip Gr"},{dataField:"titip_rp",text:"Titip Rp"}],step:0,step1:"row",step2:"row d-none",step3:"row d-none"},i}return Object(i.a)(a,[{key:"updateButton",value:function(e){switch(e){case"Penerimaan Barang Supplier":this.props.dispatch(Object(f.j)());break;case"Return Supplier":this.props.dispatch(Object(f.k)());break;case"Tolakan Return Supplier":this.props.dispatch(Object(f.n)());break;case"Pembayaran Hutang Supplier":this.props.dispatch(Object(f.i)());break;case"Tolakan Pembayaran Supplier":this.props.dispatch(Object(f.m)());break;case"Titip Supplier":this.props.dispatch(Object(f.l)());break;default:console.log("ERROR")}}},{key:"sendValidasi",value:function(e){var t=this,a=JSON.parse(localStorage.getItem("FakturTerpilih"))||[],n={trx_supplier:JSON.parse(localStorage.getItem("trx_supplier"))||[]};switch(e){case"Penerimaan Barang Supplier":Object(y.d)("validate-supplier/validate",n).then((function(e){return E.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.j)())}))})).catch((function(e){return Object(x.c)("Validasi Gagal")}));break;case"Return Supplier":Object(y.d)("validate-supplier/validate",n).then((function(e){return E.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.j)())}))})).catch((function(e){return Object(x.c)("Verifikasi Gagal , Error : ".concat(e.response.data))}));break;case"Tolakan Return Supplier":S.a.put(T+"spp/dc/tlkrtr",a).then((function(e){return E.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.m)())}))})).catch((function(e){return E.a.fire({position:"top-right",icon:"error",text:"Tampaknya ada sedikit kendala, Mohon Periksa Koneksi Anda",showConfirmButton:!1,timer:2500})}));break;case"Pembayaran Hutang Supplier":Object(y.d)("validate-supplier/validate",n).then((function(e){return E.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.j)())}))})).catch((function(e){return Object(x.c)("Verifikasi Gagal , Error : ".concat(e.response.data))}));break;case"Tolakan Pembayaran Supplier":this.props.dispatch(Object(f.m)());break;case"Titip Supplier":S.a.put(T+"spp/dc/ttp",a).then((function(e){return E.a.fire({position:"top-right",icon:"success",text:"Validasi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(f.i)())}))})).catch((function(e){return E.a.fire({position:"top-right",icon:"error",text:"Tampaknya ada sedikit kendala, Mohon Periksa Koneksi Anda",showConfirmButton:!1,timer:2500})}));break;default:console.log("ERROR")}}},{key:"render",value:function(){var e=this,t={mode:"checkbox",clickToSelect:!0,onSelect:function(e,t,a,n){console.log(e.noFaktur);var r=JSON.parse(localStorage.getItem("FakturTerpilih"))||[],i=JSON.parse(localStorage.getItem("trx_supplier"))||[],l={tanggal:e.tanggal,no_bon:e.no_bon,no_trx:e.no_trx,kode_supplier:e.kode_supplier,total_bruto:e.total_bruto,total_netto:e.total_netto,bon_rp:e.bon_rp,titip_gr:e.titip_gr,titip_rp:e.titip_rp,keterangan:e.keterangan},o={no_trx:e.no_trx,keterangan:e.keterangan};if(t){var c=r.findIndex((function(t,a){return t.no_trx===e.no_trx})),s=i.findIndex((function(t,a){return t.no_trx===e.no_trx}));c<0?(r.push(l),i.push(o)):(r.splice(c,1),i.splice(s,1)),localStorage.setItem("FakturTerpilih",JSON.stringify(r)),localStorage.setItem("trx_supplier",JSON.stringify(i))}else{var p=r.findIndex((function(t,a){return t.no_trx===e.no_trx})),u=i.findIndex((function(t,a){return t.no_trx===e.no_trx}));r.splice(p,1),i.splice(u,1),localStorage.setItem("FakturTerpilih",JSON.stringify(r)),localStorage.setItem("trx_supplier",JSON.stringify(i))}},onSelectAll:function(e,t,a){var n=[];t.forEach((function(e){var t={tanggal:e.tanggal,no_bon:e.no_bon,kode_supplier:e.kode_supplier,total_bruto:e.total_bruto,total_netto:e.total_netto,bon_rp:e.bon_rp,titip_gr:e.titip_gr,titip_rp:e.titip_rp,keterangan:e.keterangan};n.push(t)})),e?localStorage.setItem("FakturTerpilih",JSON.stringify(n)):localStorage.removeItem("FakturTerpilih")}};return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"card"},s.a.createElement(N.default,{title:"Validasi Supplier"}),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement(h.a,{steps:[{title:"Pilih Data"},{title:"Validasi Data"}],activeStep:this.state.step})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:this.state.step1},s.a.createElement("div",{className:"col-lg-3"},s.a.createElement("label",{htmlFor:""},"Pilih Jenis Transaksi"),s.a.createElement(p.a,{name:"tipeTransaksi",label:"Dari",component:"select",className:"form-control",onChange:this.changeTransaksi("tipeTransaksi")},s.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"SILAHKAN PILIH"),s.a.createElement("option",{value:"Penerimaan Barang Supplier",key:"Penerimaan Barang Supplier"},"Penerimaan Barang Supplier"),s.a.createElement("option",{value:"Return Supplier",key:"Return Supplier"},"Return Supplier"),s.a.createElement("option",{value:"Tolakan Return Supplier",key:"Tolakan Return Supplier"},"Tolakan Return Supplier"),s.a.createElement("option",{value:"Pembayaran Hutang Supplier",key:"Pembayaran Hutang Supplier"},"Pembayaran Hutang Supplier"),s.a.createElement("option",{value:"Tolakan Pembayaran Supplier",key:"Tolakan Pembayaran Supplier"},"Tolakan Pembayaran Supplier"),s.a.createElement("option",{value:"Titip Supplier",key:"Titip Supplier"},"Titip Supplier"))),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(p.a,{name:"supplier",label:"Supplier",component:O,type:"text",onChange:this.changeInput("supplier")})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(p.a,{name:"noBon",label:"Nomor Bon",component:O,type:"text",onChange:this.changeInput("noBon")})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(p.a,{name:"tanggal",label:"Tanggal Transaksi",component:O,type:"date",onChange:this.changeInput("tanggalFrom")})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary"},s.a.createElement("i",{className:"fa fa-eye"})," Lihat Data"))),s.a.createElement("div",{className:"col-lg-12 mt-3"},s.a.createElement(_.a,{keyField:"no_bon",data:this.props.listValidasiSupplier,columns:this.state.columns,search:!0,striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:b()(),selectRow:t})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.nextStep()}},"Next ",s.a.createElement("i",{className:"fa fa-chevron-right ml-3"}))))),s.a.createElement("div",{className:this.state.step2},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(_.a,{keyField:"no_bon",data:this.props.listDataSelectedValidasiSupplier,columns:this.state.columns,search:!0,striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:b()()})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"text-left"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.prevStep()}},s.a.createElement("i",{className:"fa fa-chevron-left mr-3"}),"Back"))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.sendValidasi(e.state.tipeTransaksi)}},s.a.createElement("i",{className:"fa fa-check-circle mr-3"}),"VALIDASI"))))))))))))}}]),a}(c.Component);j=Object(u.a)({form:"validasiSupplier",enableReinitialize:!0})(j),t.default=Object(m.b)((function(e){return{listValidasiSupplier:e.provinsi.listValidasiSupplier,listDataSelectedValidasiSupplier:e.provinsi.listDataSelectedValidasiSupplier}}),null)(j)},529:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(532),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default},601:function(e,t,a){e.exports=a.p+"static/media/emptyTable.ffc2d7dc.svg"},608:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(478),l=a.n(i),o=a(504),c=a.n(o),s=a(503),p=a.n(s),u=a(601),m=a.n(u);var d=function(e){return r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:m.a,width:"250",height:"250",alt:"Empty"}),r.a.createElement("h5",null,e.text)))},h=o.Search.SearchBar,g=o.CSVExport.ExportCSVButton;t.a=function(e){var t=e.textEmpty,a=e.handleClick,n=e.tambahData,i=e.expandRow,o=e.selectRow,s=e.exportCSV;return r.a.createElement(c.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},(function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-left"},r.a.createElement(h,e.searchProps))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-right"},n&&r.a.createElement("button",{onClick:a,className:"btn btn-primary",type:"button"},"Tambah Data",r.a.createElement("i",{className:"fa fa-plus ml-3"})))),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-12"},r.a.createElement(l.a,Object.assign({pagination:p()(),selectRow:o,expandRow:i},e.baseProps,{striped:!0,noDataIndication:r.a.createElement(d,{text:t||"Tidak Ada Data"})})),r.a.createElement("br",null),s&&r.a.createElement(g,e.csvProps,"Export CSV!!")))}))}}}]);
//# sourceMappingURL=60.e533e776.chunk.js.map