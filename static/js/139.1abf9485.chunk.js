(this.webpackJsonpayu=this.webpackJsonpayu||[]).push([[139],{999:function(a,t,e){"use strict";e.r(t);var r=e(39),o=e(40),l=e(42),n=e(41),s=e(0),i=e.n(s),p=e(19),c=e(298),m=e(312),u=e(301),h=e(3),g=e.n(h),f=e(462),N=e(451),S=e(409),T=e(410),y=e(25),d=e(43),k=e.n(d),b=e(420),v=e(421),B=e(338),E=Object(B.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),O=function(a){var t=a.input,e=a.label,r=a.type,o=a.limit,l=a.readOnly,n=a.meta,s=n.touched,p=n.error,c=n.warning;return i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"",className:"text-black"},e),i.a.createElement("input",Object.assign({},t,{type:r,className:"form-control",min:"0",step:"0.001",maxLength:o,readOnly:l})),s&&(p&&i.a.createElement("p",{className:"invalid-feedback"},p)||c&&i.a.createElement("p",null,c)))},R=function(a){Object(l.a)(e,a);var t=Object(n.a)(e);function e(a){var o;return Object(r.a)(this,e),(o=t.call(this,a)).state={listSupplier:[]},o}return Object(o.a)(e,[{key:"componentDidMount",value:function(){var a=this,t=new Date,e="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());this.props.change("tanggal",e),g.a.get("http://157.245.145.87:9011/master/suppliers").then((function(t){return a.setState({listSupplier:t.data})})).catch((function(a){return console.log(a)})),this.setCiok(),this.setRongsok()}},{key:"onChange",value:function(){this.props.change("cashNetto",this.props.cashNetto),this.props.change("transferNetto",this.props.transferNetto)}},{key:"setCiok",value:function(){this.props.change("ciokBrutto",this.props.totalBrutoCiok),this.props.change("ciokNetto",this.props.totalCiok)}},{key:"setRongsok",value:function(){this.props.change("rongsokBruto",this.props.totalBrutoRongsok),this.props.change("rongsokNetto",this.props.totalRongsok),this.props.change("noTitip",this.props.noFaktur)}},{key:"handleSubmitCash",value:function(a){var t={tunaiRp:a.cash,tunaiKurs:a.harga,tunaiTipe:"BON GR",tunaiNetto:a.cashNetto},e=JSON.parse(localStorage.getItem("cashTemp"))||[];e.push(t),localStorage.setItem("cashTemp",JSON.stringify(e));var r=JSON.parse(localStorage.getItem("alatBayarTunai"))||[];r.push(t),localStorage.setItem("alatBayarTunai",JSON.stringify(r)),this.props.dispatch(Object(y.i)()),k.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayar",this.props.totalBayar)}},{key:"handleSubmitCashRp",value:function(a){var t={tunaiRp:a.cash,tunaiKurs:a.harga,tunaiTipe:"BON GR",tunaiNetto:a.cashNetto},e=JSON.parse(localStorage.getItem("cashTempRp"))||[];e.push(t),localStorage.setItem("cashTempRp",JSON.stringify(e));var r=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))||[];r.push(t),localStorage.setItem("alatBayarTunaiRp",JSON.stringify(r)),this.props.dispatch(Object(y.i)()),k.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"handleSubmitTransfer",value:function(a){var t={transferKurs:a.harga,transferNetto:a.transferNetto,transferRp:a.transfer,transferTipe:a.kriteria,accFrom:a.supplier,accTo:a.tujuan,transferTanggalJanji:a.tanggal},e=JSON.parse(localStorage.getItem("transferTemp"))||[];e.push(t),localStorage.setItem("transferTemp",JSON.stringify(e));var r=JSON.parse(localStorage.getItem("alatBayarTrf"))||[];r.push(t),localStorage.setItem("alatBayarTrf",JSON.stringify(r)),this.props.dispatch(Object(y.l)()),k.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayar",this.props.totalBayar)}},{key:"handleSubmitTransferRp",value:function(a){var t={transferKurs:a.harga,transferNetto:a.transferNetto,transferRp:a.transfer,transferTipe:a.kriteria,accFrom:a.supplier,accTo:a.tujuan,transferTanggalJanji:a.tanggal},e=JSON.parse(localStorage.getItem("transferTempRp"))||[];e.push(t),localStorage.setItem("transferTempRp",JSON.stringify(e));var r=JSON.parse(localStorage.getItem("alatBayarTrfRp"))||[];r.push(t),localStorage.setItem("alatBayarTrfRp",JSON.stringify(r)),this.props.dispatch(Object(y.l)()),k.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"setTotal",value:function(){this.props.change("totalBayar",this.props.totalBayar),this.props.change("totalBayarCash",this.props.totalBayarRp)}},{key:"render",value:function(){var a=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},"rupiah"===this.props.from?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{onSubmit:function(t){return a.handleSubmitCash(t)}}),i.a.createElement(N.a,{onSubmit:function(t){return a.handleSubmitTransfer(t)}}),i.a.createElement(S.default,{totalCiok:this.props.totalCiok,totalBrutoCiok:this.props.totalBrutoCiok}),i.a.createElement(T.default,{totalRongsok:this.props.totalRongsok,totalBrutoRongsok:this.props.totalBrutoRongsok})):i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{onSubmit:function(t){return a.handleSubmitCashRp(t)}}),i.a.createElement(v.a,{onSubmit:function(t){return a.handleSubmitTransferRp(t)}}))),i.a.createElement("form",{onSubmit:this.props.handleSubmit},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4 col-md-4"},i.a.createElement(c.a,{name:"noTitip",component:O,type:"text",label:"No Titip",readOnly:!0})),i.a.createElement("div",{className:"col-md-4 col-lg-4"},i.a.createElement(c.a,{name:"tanggal",label:"Tanggal",type:"date",component:O})),i.a.createElement("div",{className:"col-md-4 col-lg-4"},i.a.createElement("label",{htmlFor:""},"Supplier"),i.a.createElement(c.a,{name:"supplier",className:"form-control",component:"select"},i.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"silahkan pilih"),this.state.listSupplier.map((function(a){return i.a.createElement("option",{value:a.kodeSupplier+"|"+a.namaSupplier,key:a.kodeSupplier},a.namaSupplier)})))),i.a.createElement("div",{className:"col-md-6 col-lg-6"},i.a.createElement("label",{htmlFor:""},"Kriteria"),i.a.createElement(c.a,{name:"kriteria",className:"form-control",component:"select"},i.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"SILAHKAN PILIH"),"rupiah"===this.props.from?i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:"tambahTitipanGr",key:"tambahTitipan"},"TAMBAH TITIPAN"),i.a.createElement("option",{value:"tarikTitipanGr",key:"tarikTitipan"},"TARIK TITIPAN")):i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:"tambahTitipanRp",key:"tambahTitipan"},"TAMBAH TITIPAN"),i.a.createElement("option",{value:"tarikTitipanRp",key:"tarikTitipan"},"TARIK TITIPAN")))),i.a.createElement("div",{className:"col-lg-6"}),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"row p-3"},i.a.createElement("div",{className:"rupiah"===this.props.from?"col-lg-4 col-md-4":"col-lg-4 col-md-4 d-none"},i.a.createElement("div",{className:"form-group"},i.a.createElement(c.a,{name:"totalBayar",label:"Total Gram",type:"number",component:O,onBlur:this.setTotal()}))),i.a.createElement("div",{className:"rupiah"!==this.props.from?"col-lg-4 col-md-4":"col-lg-4 col-md-4 d-none"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Total Bayar Rp"),i.a.createElement(c.a,Object.assign({name:"totalBayarCash",label:"Total Rp",type:"telp",component:"input",className:"form-control",onBlur:this.setTotal()},E))))))),i.a.createElement("div",{className:"col-lg-12 col-md-12"},i.a.createElement("div",{className:"text-right"},i.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Simpan"))))))}}]),e}(s.Component);R=Object(m.a)({form:"TitipanRupiah",enableReinitialize:!0})(R);var I=Object(u.a)("TitipanRupiah");t.default=Object(p.b)((function(a){var t=I(a,"harga","cash","transfer"),e=t.harga,r=t.cash,o=t.transfer,l=JSON.parse(localStorage.getItem("alatBayarTrf"))?JSON.parse(localStorage.getItem("alatBayarTrf")):0,n=JSON.parse(localStorage.getItem("alatBayarTunai"))?JSON.parse(localStorage.getItem("alatBayarTunai")):0,s=JSON.parse(localStorage.getItem("alatBayarTrfRp"))?JSON.parse(localStorage.getItem("alatBayarTrfRp")):0,i=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))?JSON.parse(localStorage.getItem("alatBayarTunaiRp")):0,p=JSON.parse(localStorage.getItem("totalCiok"))?JSON.parse(localStorage.getItem("totalCiok")):0,c=JSON.parse(localStorage.getItem("totalRongsok"))?JSON.parse(localStorage.getItem("totalRongsok")):0,m=void 0===n[0]?0:n[0].tunaiNetto,u=void 0===l[0]?0:l[0].transferNetto,h=void 0===i[0]?0:i[0].tunaiNetto,g=void 0===s[0]?0:s[0].transferNetto;return{cashNetto:(parseFloat(r)/parseFloat(e)).toFixed(3),transferNetto:(parseFloat(o)/parseFloat(e)).toFixed(3),totalBayar:(parseFloat(m)+parseFloat(u)+parseFloat(p)+parseFloat(c)).toFixed(3),totalBayarRp:(parseFloat(h)+parseFloat(g)).toFixed(3)}}))(R)}}]);
//# sourceMappingURL=139.1abf9485.chunk.js.map