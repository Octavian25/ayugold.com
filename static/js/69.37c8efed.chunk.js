(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[69],{1167:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(16),i=a(18),c=a(17),s=a(0),l=a.n(s),o=a(52),u=a(304),m=a(12),p=a(536),d=a.n(p),h=a(481),E=a.n(h),b=a(507),k=a.n(b),g=a(506),N=a.n(g),f=a(40),v=a.n(f),A=a(95),O=a(63),_=a(19),T=a(61),S=a(43),R=a(3),P=a(41),C=a(511),j=function(e){var t=e.input,a=e.label,n=e.type,r=e.limit,i=e.readOnly,c=e.meta,s=c.touched,o=c.error,u=c.warning;return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"",className:"text-black"},a),l.a.createElement("input",Object.assign({},t,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:r,readOnly:i})),s&&(o&&l.a.createElement("p",{className:"invalid-feedback"},o)||u&&l.a.createElement("p",null,u)))},I=Object({NODE_ENV:"production",PUBLIC_URL:"/ayugold.com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://192.168.1.27:7002/api/v1/",REACT_APP_BACKEND_URLLOCAL:"https://147.139.193.169:3759/api/v1/"}).REACT_APP_BACKEND_URL_NON_MASTER,L=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).disabledButton=function(e){e.target.disabled=!0},r.nextStep=function(){var e=r.state.step;0===e&&r.setState({step:e+1,step2:"row",step1:"row d-none"}),r.props.dispatch(Object(T.h)())},r.prevStep=function(){var e=r.state.step;1===e&&r.setState({step:e-1,step2:"row d-none",step1:"row"})},r.state={columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"no_bon",text:"Nomor Bon"},{dataField:"kode_customer",text:"Customer"},{dataField:"keterangan",text:"Keterangan"},{dataField:"total_bruto",text:"Total Bruto"},{dataField:"total_netto",text:"Total Netto"},{dataField:"bon_rp",text:"Bon RP"},{dataField:"titip_gr",text:"Titip Gr"},{dataField:"titip_rp",text:"Titip Rp"}],data:[{tanggal:"23/11/2020"}],step:0,step1:"row",step2:"row d-none",step3:"row d-none",listSales:[],listCustomer:[]},r}return Object(r.a)(a,[{key:"updateButton",value:function(e){switch(e){case"PENJUALAN":this.props.dispatch(Object(O.k)());break;case"RETURN PENJUALAN":this.props.dispatch(Object(O.l)());break;case"PEMBAYARAN PER BON":this.props.dispatch(Object(O.i)());break;case"TOLAKAN PEMBAYARAN CUSTOMER":this.props.dispatch(Object(O.n)());break;case"TITIP GR CUSTOMER":this.props.dispatch(Object(O.m)());break;case"PENJUALAN LM":this.props.dispatch(Object(O.h)());break;case"PEMBELIAN LM":this.props.dispatch(Object(O.j)());break;default:console.log("ERROR")}}},{key:"kirimvalidasi",value:function(e){var t=this;console.log("BERHASIL");var a={trx_customer:JSON.parse(localStorage.getItem("FakturTerpilih_kirim"))||[]};switch(e){case"PENJUALAN":Object(R.d)("validate-customer/validate",a).then((function(){return Object(_.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.k)(t.state.kode_customer,t.state.tanggal))})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(e){return Object(_.c)("Gagal Validasi, Check Koneksi Anda, Detial : ".concat(e.response.data))}));break;case"RETURN PENJUALAN":Object(R.d)("validate-customer/validate",a).then((function(){return Object(_.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.l)(t.state.kode_customer,t.state.tanggal))})).then((function(){return localStorage.removeItem("FakturTerpilih")})).catch((function(){return Object(_.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"PEMBAYARAN PER BON":Object(R.d)("validate-customer/validate",a).then((function(){return Object(_.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.i)(t.state.kode_customer,t.state.tanggal))})).then((function(){return localStorage.removeItem("FakturTerpilih")})).catch((function(){return Object(_.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"TOLAKAN PEMBAYARAN CUSTOMER":v.a.put(I+"cst/dc/tlkbyr",a).then((function(){return Object(_.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.n)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).catch((function(){return Object(_.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"TITIP GR CUSTOMER":Object(R.d)("validate-customer/validate",a).then((function(){return Object(_.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.m)(t.state.kode_customer,t.state.tanggal))})).then((function(){return localStorage.removeItem("FakturTerpilih")})).then((function(){return localStorage.removeItem("FakturTerpilih_kirim")})).catch((function(e){return Object(_.c)("Gagal Validasi, Check Koneksi Anda, Detial : ".concat(e.response.data))}));break;case"PENJUALAN LM":v.a.put(I+"cst/dc/lm",a).then((function(){return Object(_.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.h)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).catch((function(){return Object(_.c)("Gagal Validasi, Check Koneksi Anda")}));break;case"PEMBELIAN LM":v.a.put(I+"cst/dc/lm",a).then((function(){return Object(_.b)("Berhasil Validasi")})).then((function(){return t.prevStep()})).then((function(){return t.props.dispatch(Object(O.j)())})).then((function(){return localStorage.removeItem("FakturTerpilih")})).catch((function(){return Object(_.c)("Gagal Validasi, Check Koneksi Anda")}));break;default:console.log("ERROR")}}},{key:"changeTransaksi",value:function(){switch(this.state.tipeTransaksi){case"PENJUALAN":this.props.dispatch(Object(O.k)(this.state.kode_customer,this.state.tanggal));break;case"RETURN PENJUALAN":this.props.dispatch(Object(O.l)(this.state.kode_customer,this.state.tanggal));break;case"PEMBAYARAN PER BON":this.props.dispatch(Object(O.i)(this.state.kode_customer,this.state.tanggal));break;case"TOLAKAN PEMBAYARAN CUSTOMER":this.props.dispatch(Object(O.n)(this.state.kode_customer,this.state.tanggal));break;case"TOLAKAN RETURN CUSTOMER":this.props.dispatch(Object(O.o)());break;case"TITIP GR CUSTOMER":this.props.dispatch(Object(O.m)(this.state.kode_customer,this.state.tanggal));break;case"PENJUALAN LM":this.props.dispatch(Object(O.h)());break;case"PEMBELIAN LM":this.props.dispatch(Object(O.j)());break;default:console.log("ERROR")}}},{key:"componentDidMount",value:function(){localStorage.setItem("FakturTerpilih_kirim","[]"),localStorage.setItem("FakturTerpilih","[]"),this.props.dispatch(Object(P.h)())}},{key:"onSubmitToko",value:function(e){this.props.change("namaToko",e)}},{key:"render",value:function(){var e=this,t=this.props.listCustomer.map((function(e){return{value:e.kode_customer,name:e.nama_customer}})),a={mode:"checkbox",clickToSelect:!0,onSelect:function(e,t,a,n){console.log(e.noFaktur);var r=JSON.parse(localStorage.getItem("FakturTerpilih"))||[],i=JSON.parse(localStorage.getItem("FakturTerpilih_kirim"))||[],c={tanggal:e.tanggal,no_bon:e.no_bon,no_trx:e.no_trx,kode_customer:e.kode_customer,keterangan:e.keterangan,total_bruto:e.total_bruto,total_netto:e.total_netto,bon_rp:e.bon_rp,titip_gr:e.titip_gr,titip_rp:e.titip_rp},s={no_trx:e.no_trx,keterangan:e.keterangan};if(t){var l=r.findIndex((function(t,a){return t.no_bon===e.no_bon})),o=i.findIndex((function(t,a){return t.no_bon===e.no_bon}));l<0?(r.push(c),i.push(s)):(r.splice(l,1),i.splice(o,1)),localStorage.setItem("FakturTerpilih",JSON.stringify(r)),localStorage.setItem("FakturTerpilih_kirim",JSON.stringify(i))}else{var u=r.findIndex((function(t,a){return t.no_bon===e.no_bon})),m=r.findIndex((function(t,a){return t.no_bon===e.no_bon}));r.splice(u,1),i.splice(m,1),localStorage.setItem("FakturTerpilih",JSON.stringify(r)),localStorage.setItem("FakturTerpilih_kirim",JSON.stringify(r))}},onSelectAll:function(e,t,a){var n=[],r=[];t.forEach((function(e){var t={tanggal:e.tanggal,no_bon:e.no_bon,no_trx:e.no_trx,kode_customer:e.kode_customer,keterangan:e.keterangan,total_bruto:e.total_bruto,total_netto:e.total_netto,bon_rp:e.bon_rp,titip_gr:e.titip_gr,titip_rp:e.titip_rp},a={no_trx:e.no_trx,keterangan:e.keterangan};n.push(t),r.push(a)})),e?(localStorage.setItem("FakturTerpilih",JSON.stringify(n)),localStorage.setItem("FakturTerpilih_kirim",JSON.stringify(r))):(localStorage.removeItem("FakturTerpilih"),localStorage.removeItem("FakturTerpilih_kirim"))}};return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"card"},l.a.createElement(S.default,{title:"Validasi Customer"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12 col-md-12"},l.a.createElement(d.a,{steps:[{title:"Pilih Data"},{title:"Validasi Data"}],activeStep:this.state.step})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:this.state.step1},l.a.createElement("div",{className:"col-lg-3 mb-3"},l.a.createElement("label",{htmlFor:""},"Jenis Transaksi"),l.a.createElement(o.a,{name:"tipeTransaksi",label:"Dari",component:"select",className:"form-control",onChange:function(t){return e.setState({tipeTransaksi:t.target.value})}},l.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"SILAHKAN PILIH"),l.a.createElement("option",{value:"PENJUALAN",key:"PENJUALAN"},"PENJUALAN"),l.a.createElement("option",{value:"RETURN PENJUALAN",key:"RETURN PENJUALAN"},"RETURN PENJUALAN"),l.a.createElement("option",{value:"PEMBAYARAN PER BON",key:"PEMBAYARAN PER BON"},"PEMBAYARAN PER BON"),l.a.createElement("option",{value:"TOLAKAN PEMBAYARAN CUSTOMER",key:"TOLAKAN PEMBAYARAN CUSTOMER"},"TOLAKAN PEMBAYARAN CUSTOMER"),l.a.createElement("option",{value:"TITIP GR CUSTOMER",key:"TITIP GR CUSTOMER"},"TITIP GR CUSTOMER"))),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("label",{htmlFor:""},"Nama Customer"),l.a.createElement(A.a,{options:t,search:!0,placeholder:"Silahkan Pilih",onChange:function(t){return e.setState({kode_customer:t})}})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(o.a,{name:"tanggal",label:"Tanggal Transaksi",component:j,type:"date",onChange:function(t){return e.setState({tanggal:t.target.value})}})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.changeTransaksi()}},l.a.createElement("i",{className:"fa fa-eye"})," Lihat Data"))),l.a.createElement("div",{className:"col-lg-12 mt-3"},l.a.createElement(C.a,{keyField:"no_bon",data:this.props.listValidasiCustomer,columns:this.state.columns,search:!0,striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:N()(),selectRow:a})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.nextStep()}},"Next",l.a.createElement("i",{className:"fa fa-chevron-right ml-3"}))))),l.a.createElement("div",{className:this.state.step2},l.a.createElement("div",{className:"col-lg-12 mt-3"},this.props.listDataSelectedValidasiSupplier?l.a.createElement(k.a,{keyField:"noFaktur",data:this.props.listDataSelectedValidasiSupplier,columns:this.state.columns,search:!0},(function(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement(E.a,Object.assign({},e.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:N()()})))})):l.a.createElement(E.a,{keyField:"noFaktur",data:[],columns:this.state.columns,bordered:!0,headerClasses:"header-table",noDataIndication:"Tidak Ada Data"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"text-left"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.prevStep()}},l.a.createElement("i",{className:"fa fa-chevron-left mr-3"}),"Kembali"))),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.kirimvalidasi(e.state.tipeTransaksi)}},l.a.createElement("i",{className:"fa fa-check mr-3"}),"VALIDASI"))))))))))))}}]),a}(s.Component);L=Object(u.a)({form:"validasiCustomer",enableReinitialize:!0})(L),t.default=Object(m.b)((function(e){return{listValidasiCustomer:e.provinsi.listValidasiCustomer,listDataSelectedValidasiSupplier:e.provinsi.listDataSelectedValidasiSupplier,listCustomer:e.provinsi.customer}}),null)(L)},511:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(481),c=a.n(i),s=a(507),l=a.n(s),o=a(506),u=a.n(o),m=a(514),p=a.n(m);var d=function(e){return r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:p.a,width:"250",height:"250",alt:"Empty"}),r.a.createElement("h5",null,e.text)))},h=s.Search.SearchBar,E=s.CSVExport.ExportCSVButton;t.a=function(e){var t=e.textEmpty,a=e.handleClick,n=e.tambahData,i=e.expandRow,s=e.selectRow,o=e.exportCSV;return r.a.createElement(l.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},(function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-left"},r.a.createElement(h,e.searchProps))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"text-right"},n&&r.a.createElement("button",{onClick:a,className:"btn btn-primary",type:"button"},"Tambah Data",r.a.createElement("i",{className:"fa fa-plus ml-3"})))),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-12"},r.a.createElement(c.a,Object.assign({pagination:u()(),selectRow:s,expandRow:i},e.baseProps,{striped:!0,noDataIndication:r.a.createElement(d,{text:t||"Tidak Ada Data"})})),r.a.createElement("br",null),o&&r.a.createElement(E,e.csvProps,"Export CSV!!")))}))}},514:function(e,t,a){e.exports=a.p+"static/media/emptyTable.ffc2d7dc.svg"},536:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(542),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default}}]);
//# sourceMappingURL=69.37c8efed.chunk.js.map