(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[48,1],{1203:function(e,a,t){"use strict";t.r(a);var n=t(19),s=t(20),r=t(22),l=t(21),c=t(0),o=t.n(c),i=t(849),d=t.n(i),m=t(226),u=t.n(m),p=t(115),h=t.n(p),b=t(227),E=t.n(b),g=t(16),v=t(32),f=t(150),w=t(12),k=function(e){var a={};return e.password?e.password.length<6&&(a.password="Password kurang dari 6"):a.password="Tidak Boleh kosong",e.rePassword?e.rePassword.length<6?a.rePassword="Password kurang dari 6":e.rePassword!==e.password&&(a.rePassword="Password tidak sama"):a.rePassword="Tidak Boleh kosong",e.namaLengkap||(a.namaLengkap="Tidak Boleh kosong"),e.level||(a.level="Tidak Boleh kosong"),a},O=function(e){var a=e.input,t=e.label,n=e.type,s=e.readOnly,r=e.meta,l=r.touched,c=r.error,i=r.warning;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"",className:"text-black"},t),o.a.createElement("input",Object.assign({},a,{type:n,className:"form-control",readOnly:s})),l&&(c&&o.a.createElement("p",{className:"invalid-feedback"},c)||i&&o.a.createElement("p",null,i)))},j=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).state={response:"",status:"AKTIF",listProvinsi:[]},s}return Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.props.handleSubmit},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:this.props.changePassword?"col-lg-4 d-none":"col-lg-4"},o.a.createElement(v.a,{name:"namaLengkap",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:O,label:"Nama Lengkap"})),o.a.createElement("div",{className:this.props.edit?"col-lg-4 d-none":"col-lg-4 "},o.a.createElement(v.a,{name:"userID",type:"text",component:O,label:"User ID"})),o.a.createElement("div",{className:this.props.changePassword?"col-lg-4 d-none":"col-lg-4"},o.a.createElement(v.a,{component:w.b,label:"Level",name:"level",value:this.props.status,normalize:function(e){return e&&e.toUpperCase()},className:"form-control",options:[{value:"ADM",name:"ADMIN"},{value:"OWN",name:"OWNER"},{value:"MRK",name:"MARKETING"},{value:"SPV",name:"SUPERVISOR"}]})),this.props.changePassword?o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(v.a,{name:"passwordLama",type:"password",component:O,label:"Password Lama"})):null,this.props.edit?this.props.changePassword?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(v.a,{name:"password",type:"password",component:O,label:"Password Baru"})),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(v.a,{name:"rePassword",type:"password",component:O,label:"Retype Password Baru"}))):null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(v.a,{name:"password",type:"password",component:O,label:"Password"})),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(v.a,{name:"rePassword",type:"password",component:O,label:"Retype Password"}))),o.a.createElement("div",{className:"col-lg-12 col-md-12"},o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{type:"submit",id:"simpan",className:"btn btn-primary",disabled:this.props.submitting},"Submit"))))))}}]),t}(c.Component);j=Object(f.a)({form:"AddUser",enableReinitialize:!0,validate:k})(j);var N=Object(g.b)((function(e){return{initialValues:{namaLengkap:e.provinsi.editUser.namaUser,userID:e.provinsi.editUser.idUser,password:e.provinsi.editUser.password,rePassword:e.provinsi.editUser.password,level:e.provinsi.editUser.level}}}),null)(j),y=t(217),P=t(7),S=t(18),U=t(39),x=t(615),D=t(55),C=t(5),A=p.Search.SearchBar,B=p.CSVExport.ExportCSVButton,L=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).state={columns:[{dataField:"user_id",text:"ID User"},{dataField:"user_name",text:"Nama Pegawai",headerStyle:function(){return{width:"20%"}}},{dataField:"level",text:"Level"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,a){return o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-warning mr-2","data-target":"#modalTambahUser","data-toggle":"modal",onClick:function(){return s.props.dispatch(Object(y.d)(a.user_id,a.user_name,a.level,a.password,s.editModal()))}},o.a.createElement("i",{className:"fa fa-edit mr-1"}),"Edit"),o.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return Object(C.a)("users/delete/id/"+a.user_id).then((function(){return Object(S.b)("Akun Berhasil Dihapus")})).then((function(){return s.props.dispatch(Object(y.c)())})).catch((function(){return Object(S.c)("sepertinya ada kesalahan, silahkan check koneksi anda")}))}},o.a.createElement("i",{className:"fa fa-trash mr-1"}),"HAPUS"))},headerStyle:function(){return{width:"20%"}}}]},s}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(y.c)())}},{key:"handleSubmit",value:function(e){var a=this,t={user_name:e.namaLengkap,password:e.password,retype_password:e.password,user_id:e.userID,level:e.level};Object(C.c)("users/add/user",t).then((function(){return a.props.dispatch(Object(D.g)())})).then((function(){return Object(S.b)("User berhasil disimpan",a.props.dispatch(Object(U.b)(),a.props.dispatch(Object(y.c)())))})).catch((function(){return Object(S.c)("Sepertinya ada gangguan, mohon periksa koneksi anda")}))}},{key:"handleSubmitEdit",value:function(e){var a=this,t={user_name:e.namaLengkap,level:e.level};Object(C.d)("/users/update/id/"+e.userID,t).then((function(){return a.props.dispatch(Object(D.g)())})).then((function(){return Object(S.b)("User berhasil dirubah",a.props.dispatch(Object(U.b)(),a.props.dispatch(Object(y.c)())))})).catch((function(){return Object(S.c)("Sepertinya ada gangguan, mohon periksa koneksi anda")}))}},{key:"editModal",value:function(){this.props.dispatch(Object(D.j)()),this.props.dispatch(Object(y.d)()),this.setState({isEdit:!0,changePassword:!1})}},{key:"tambahModal",value:function(){this.props.dispatch(Object(D.j)()),this.setState({isEdit:!1})}},{key:"changePassword",value:function(){this.props.dispatch(Object(D.j)()),this.props.dispatch(Object(y.d)()),this.setState({isEdit:!0,changePassword:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("ol",{className:"breadcrumb mb-2"},o.a.createElement(P.b,{to:"/manageUser"},o.a.createElement("button",{type:"button",className:"btn btn-secondary"},o.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," Back"))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"text-center"},o.a.createElement("img",{src:d.a,alt:"Add User Logo",width:200}),o.a.createElement("p",null,"Silahkan Simpan ID dan password baik baik, jangan password",o.a.createElement("br",null),"dengan kata umum, seperti: Tanggal lahir, atau nama"))),o.a.createElement(x.default,{content:this.state.isEdit?this.state.changePassword?o.a.createElement(N,{onSubmit:function(a){return e.handleSubmitEdit(a)},edit:!0,changePassword:!0}):o.a.createElement(N,{onSubmit:function(a){return e.handleSubmitEdit(a)},edit:!0}):o.a.createElement(N,{onSubmit:function(a){return e.handleSubmit(a)}}),title:this.state.isEdit?"Edit Data User":"Tambah Data User"}),o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.tambahModal()}},"Tambah User"))),o.a.createElement("div",{className:"col-lg-12"},this.props.listDataUser?o.a.createElement(h.a,{keyField:"id",data:this.props.listDataUser,columns:this.state.columns,search:!0},(function(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"text-right mt-5 mb-3"},o.a.createElement(A,Object.assign({},e.searchProps,{className:"form-control",placeholder:"Tuliskan Kode / Nama",style:{margin:0,top:"50%"}}))),o.a.createElement(u.a,Object.assign({},e.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:E()()})),o.a.createElement(B,Object.assign({},e.csvProps,{className:"btn btn-primary"}),"Export CSV"))})):null)))))}}]),t}(c.Component);a.default=Object(g.b)((function(e){return{listDataUser:e.provinsi.listDataUser}}),null)(L)},615:function(e,a,t){"use strict";t.r(a);var n=t(19),s=t(20),r=t(22),l=t(21),c=t(1189),o=t(0),i=t.n(o),d=t(16),m=t(55),u=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).state={},s}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(c.a,{show:this.props.show,onHide:function(){return e.props.dispatch(Object(m.g)())},dialogClassName:"modal-xl",backdrop:"static",keyboard:!1},i.a.createElement(c.a.Header,{closeButton:!0,style:{backgroundColor:"#5F76E8",color:"#ffffff"}},i.a.createElement(c.a.Title,null,this.props.title||"")),i.a.createElement(c.a.Body,null,this.props.content||""))}}]),t}(o.Component);a.default=Object(d.b)((function(e){return{show:e.modal.show}}),null)(u)},849:function(e,a,t){e.exports=t.p+"static/media/AddUser2.bff7185f.svg"}}]);
//# sourceMappingURL=48.2f7d1044.chunk.js.map