(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[128],{1225:function(t,e,a){"use strict";a.r(e);var l=a(19),o=a(20),n=a(22),i=a(21),s=a(0),r=a.n(s),c=a(16),m=a(39),u=a(41),p=a(32),d=a(151),h=a(152),b=a(108),_=a(12),k=a(156),g=function(t){var e=t.input,a=t.label,l=t.type,o=t.limit,n=t.readOnly,i=t.meta,s=i.touched,c=i.error,m=i.warning;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"",className:"text-black"},a),r.a.createElement("input",Object.assign({},e,{type:l,className:"form-control",min:"0",step:"0.001",maxLength:o,readOnly:n})),s&&(c&&r.a.createElement("p",{className:"invalid-feedback"},c)||m&&r.a.createElement("p",null,m)))},v=function(t){Object(n.a)(a,t);var e=Object(i.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).onChange=function(t){return function(e){o.setState(Object(u.a)({},t,e.target.value))}},o.state={listLokasi:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(b.e)(localStorage.getItem("noFaktur"))),this.props.dispatch(Object(k.d)())}},{key:"setSelisih",value:function(){this.props.change("total_netto_selisih",this.props.total_netto_selisih),this.props.change("total_bruto_selisih",this.props.total_bruto_selisih)}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(p.a,{name:"kode_kelompok",component:_.b,options:[{value:"PERHIASAN",name:"PERHIASAN"},{value:"CIOK",name:"CIOK"},{value:"RONGSOK",name:"RONGSOK"}],type:"text",label:"Kode Kelompok",placeholder:"Masukan "})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(p.a,{name:"tanggal",component:g,type:"date",label:"Tanggal",placeholder:"Masukan Tanggal"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(p.a,{name:"lokasi",component:_.b,options:this.props.lokasi.map((function(t){return{value:t.kode_lokasi,name:t.nama_lokasi}})),type:"text",label:"Lokasi",placeholder:"Masukan Lokasi"})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_gross",component:g,type:"text",label:"Total Gross",placeholder:"Masukan Total Gross",readOnly:!0})),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_pkg",component:g,type:"text",label:"Total Pkg",placeholder:"Masukan Total Pkg",readOnly:!0})),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_bruto",component:g,type:"text",label:"Total Bruto",placeholder:"Masukan Total Bruto",readOnly:!0})),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_netto",component:g,type:"text",label:"Total Netto",placeholder:"Masukan Total Netto",readOnly:!0})),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_netto_fisik",component:g,type:"text",label:"Total Netto Fisik",placeholder:"Masukan Total Netto Fisik",onChange:this.setSelisih()})),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_bruto_fisik",component:g,type:"text",label:"Total Bruto Fisik",placeholder:"Masukan Total Bruto Fisik",onChange:this.setSelisih()})),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_netto_selisih",component:g,type:"text",label:"Total Netto Selisih",placeholder:"Masukan Total Netto Selisih"})),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement(p.a,{name:"total_bruto_selisih",component:g,type:"text",label:"Total Bruto Selisih",placeholder:"Masukan Total Bruto Selisih"}))),r.a.createElement("div",{className:"col-lg-12 mt-2"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Simpan",r.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))}}]),a}(s.Component);v=Object(d.a)({form:"FormSelisih",enableReinitialize:!0})(v);var f=Object(h.a)("FormSelisih"),E=Object(c.b)((function(t){var e=f(t,"total_netto_fisik","total_bruto_fisik"),a=e.total_netto_fisik,l=e.total_bruto_fisik;return{selisih_totalan:t.provinsi.selisih_totalan,lokasi:t.provinsi.lokasi,onSend:t.provinsi.onSend,initialValues:{kode_kelompok:t.provinsi.selisih_totalan.kode_kelompok,tanggal:t.provinsi.selisih_totalan.tanggal,lokasi:t.provinsi.selisih_totalan.kode_lokasi,total_gross:t.provinsi.selisih_totalan.total_gross,total_bruto:t.provinsi.selisih_totalan.total_bruto,total_pkg:t.provinsi.selisih_totalan.total_pkg,total_netto:t.provinsi.selisih_totalan.total_netto},total_netto_selisih:parseFloat(t.provinsi.selisih_totalan.total_netto||0)-parseFloat(a||0),total_bruto_selisih:parseFloat(t.provinsi.selisih_totalan.total_bruto||0)-parseFloat(l||0)}}))(v),S=a(51),y=a(229),N=a(5),O=a(18),F=a(13),j=function(t){Object(n.a)(a,t);var e=Object(i.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).state={columns:[{dataField:"kode_jenis",text:"Kode Jenis",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"kode_kategori",text:"Kode Kategori",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"kadar_modal",text:"Kadar Beli",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"bruto",text:"Bruto",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"bruto_system",text:"Bruto System",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"bruto_selisih",text:"Bruto Selisih",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"netto",text:"Netto",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"netto_system",text:"Netto System",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"netto_selisih",text:"Netto Selisih",sort:!0,headerStyle:function(){return{width:"10%"}}}],data:[{noFaktur:"-",kodeKategori:"-",kadarCetak:0,kadarTransaksi:0,kodeJenis:"-",noUrut:"-",brutoSelisih:0,nettoTimbang:0,nettoData:0,brutoTimbang:0,nettoSelisih:0,brutoData:0}],listLokasi:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(b.e)(localStorage.getItem("noFaktur"))),this.props.dispatch(Object(m.b)())}},{key:"handleSubmit",value:function(t){var e=this,a={total_bruto:t.total_bruto_fisik,total_bruto_system:t.total_bruto,total_bruto_selisih:t.total_bruto_selisih,total_netto:t.total_netto_fisik,total_netto_system:t.total_netto,total_netto_selisih:t.total_netto_selisih,detail_barang:this.props.selisih_totalan};this.props.dispatch(Object(F.t)()),Object(N.c)("totalan-barang/selisih-totalan/end-totalan/".concat(this.props.noFaktur),a).then((function(){return e.props.dispatch(Object(F.k)())})).then((function(){return Object(O.b)("Selisih Berhasil Di Simpan")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return localStorage.removeItem("totalanTimbangan")})).then((function(){return e.props.dispatch(Object(m.b)())})).catch((function(t){return Object(O.c)("Gagal Simpan Selisih, Detail : ".concat(t.response.data)).then((function(){return e.props.dispatch(Object(F.k)())}))}))}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card"},r.a.createElement(S.default,{title:"Selisih Timbangan"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(E,{noFaktur:this.props.noFaktur,onSubmit:function(e){return t.handleSubmit(e)}})),r.a.createElement("br",null),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(y.a,{keyField:"kodeKelompok",data:this.props.selisih_totalan,columns:this.state.columns,search:!0})))))}}]),a}(s.Component);e.default=Object(c.b)((function(t){return{noFaktur:t.provinsi.noFaktur,selisih_totalan:t.provinsi.selisih_totalan.detail_barang}}),null)(j)}}]);
//# sourceMappingURL=128.7a185fc2.chunk.js.map