(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[139],{1185:function(a,t,e){"use strict";e.r(t);var o=e(31),n=e(19),r=e(20),i=e(22),l=e(21),s=e(0),c=e.n(s),u=e(13),p=e(40),g=e.n(p),m=e(4),d=e(18),h=e(7),k=e.n(h),b=e(29),S=e(52),f=e(17),_=e(14),R=e.n(_),v=e(9),T=e(43),N=e(3),B=e(56),E=Object(s.lazy)((function(){return e.e(23).then(e.bind(null,840))})),y=Object({NODE_ENV:"production",PUBLIC_URL:"/ayugold.com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://147.139.193.169:3759/api/v1/",REACT_APP_BACKEND_URLLOCAL:"http://192.168.1.27:7002/api/v1/",REACT_APP_BACKEND_URL_WEB:"https://ayu-grosir-api.herokuapp.com/api/v1/"}).REACT_APP_BACKEND_URL_NON_MASTER,I=function(a){Object(i.a)(e,a);var t=Object(l.a)(e);function e(a){var r;Object(n.a)(this,e),(r=t.call(this,a)).inputChange=function(a){return function(t){r.setState(Object(o.a)({},a,t.target.value))}};var i=new Date,l="".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate());return r.state={listSupplier:[],tanggal:l,bonBayar:"",detail:"",tipeTransaksi:"BARANG"},r}return Object(r.a)(e,[{key:"componentDidMount",value:function(){var a=this;g.a.get(y+"suppliers").then((function(t){return a.setState({listSupplier:t.data})})).catch((function(a){return console.log(a)})),this.props.dispatch(Object(d.e)()),this.props.dispatch(Object(d.f)()),this.props.dispatch(Object(b.b)())}},{key:"handleSubmit",value:function(a){var t=this;if(void 0===a.noBon)return Object(f.e)("Mohon isi nomor bon"),!1;if(void 0===a.tanggal)return Object(f.e)("Mohon isi Tanggal"),!1;if(void 0===a.supplier)return Object(f.e)("Mohon isi Supplier"),!1;if(null===localStorage.getItem("alatBayarBarang")&&null===localStorage.getItem("alatBayarTrf")&&null===localStorage.getItem("alatBayarTunai")&&null===localStorage.getItem("alatBayarTunaiRp")&&null===localStorage.getItem("alatBayarTrfRp"))return Object(f.e)("Mohon Masukan Alat Pembayaran Paling Tidak 1 Jenis"),!1;var e={kode_jenis:"-",bruto:0,kadar_transaksi:0,netto:0},o={cash_rp:0,harga_emas:0,cash_netto:0},n={transfer_rp:0,harga_emas:0,transfer_netto:0,tanggal_transfer:"2021-01-01",acc_from:"-",acc_to:"-"},r=JSON.parse(localStorage.getItem("alatBayarCiok"))||[e],i=JSON.parse(localStorage.getItem("alatBayarRosok"))||[e],l=JSON.parse(localStorage.getItem("alatBayarTrf"))||[n],s=JSON.parse(localStorage.getItem("alatBayarTrfRp"))||[n],c=JSON.parse(localStorage.getItem("alatBayarTunai"))||[o],u=JSON.parse(localStorage.getItem("alatBayarTunaiRp"))||[o],p={kode_supplier:(a.supplier?a.supplier:"DEFAULT | DEFUALT").split("|")[0],no_bon:a.noBon,no_bayar:this.props.noFaktur,tanggal:a.tanggal,type_bon:"RUPIAH"===this.state.tipeTransaksi?"BON RP":"BON GR",jumlah_hutang:"RUPIAH"===this.state.tipeTransaksi?a.totalHutangRP:a.totalHutangGr,total_putus_titip:0,total_denda:Number(a.denda)||0,total_hutang:"RUPIAH"===this.state.tipeTransaksi?a.totalHutangRP:a.totalHutangGr,detail_ciok:r,bayar_ciok:localStorage.getItem("totalCiok")||0,detail_rongsok:i,bayar_rongsok:localStorage.getItem("totalRongsok")||0,detail_cash:"RUPIAH"===this.state.tipeTransaksi?u:c,bayar_cash:"RUPIAH"===this.state.tipeTransaksi?u.map((function(a){return a.cash_netto})).reduce((function(a,t){return a+t}),0):localStorage.getItem("totalTunaiRp")||0,detail_trf:"RUPIAH"===this.state.tipeTransaksi?s:l,bayar_trf:"RUPIAH"===this.state.tipeTransaksi?s.map((function(a){return a.transfer_netto})).reduce((function(a,t){return a+t}),0):localStorage.getItem("totalTrfRp")||0,detail_giro:[{giro_rp:0,harga_emas:0,giro_netto:0,tanggal_giro:"-",no_giro:"-",bank_giro:"-",acc_to:"-",bank_to:"-"}],bayar_giro:0,detail_faktur:JSON.parse(localStorage.getItem("listHutang"))};localStorage.setItem("notaPembayaranSupplier",JSON.stringify(p)),this.props.dispatch(Object(v.t)());var g=[["Tunai","Tunai",parseFloat(null!==c?c[0].cash_rp:0).toLocaleString("id-ID"),parseFloat(null!==c?c[0].harga_emas:0).toLocaleString("id-ID"),"",parseFloat(null!==c?c[0].cash_netto:0),"",""],["Transfer","Transfer",parseFloat(null!==l?l[0].transfer_rp:0).toLocaleString("id-ID"),parseFloat(null!==l?l[0].harga_emas:0).toLocaleString("id-ID"),"",parseFloat(null!==l?l[0].transfer_netto:0),"",""]];(JSON.parse(localStorage.getItem("ciokTemp"))||[]).forEach((function(a,t){var e=["Ciok",a.kodeBarang,a.bruto,"",a.kadarTransaksi,a.netto,"",""];g.push(e)})),(JSON.parse(localStorage.getItem("rongsokTemp"))||[]).forEach((function(a,t){var e=["Rongsok",a.kodeBarang,a.bruto,"",a.kadarTransaksi,a.netto,"",""];g.push(e)}));var m=["DISCOUNT","DISCOUNT",null!==localStorage.getItem("discount")?localStorage.getItem("discount"):0,"","",null!==localStorage.getItem("discount")?localStorage.getItem("discount"):0,"",""];g.push(m);var d=["BONUS","BONUS",null!==localStorage.getItem("bonus")?localStorage.getItem("bonus"):0,"","",null!==localStorage.getItem("bonus")?localStorage.getItem("bonus"):0,"",""];g.push(d);var h=["DENDA","DENDA",null!==localStorage.getItem("denda")?localStorage.getItem("denda"):0,"","",null!==localStorage.getItem("denda")?localStorage.getItem("denda"):0,"",""];g.push(h),console.log(JSON.stringify(g));var _=["Jenis \nPembayaran","Nama \nBarang","Gross \nBayar","Harga","Kadar","Netto","Pkg","Gw+Pkg"];console.log(JSON.stringify(p)),Object(N.c)("trx-supplier/bayar-hutang",p).then((function(e){return k.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return t.props.dispatch(Object(v.k)())})).then((function(){return Object(B.a)(["PrintPembayaranSupplier","totalTunaiRp","alatBayarTunai","totalTrfRp","alatBayarTrf","ciokTemp","alatBayarCiok","totalCiok","totalBrutoCiok","rongsokTemp","alatBayarRosok","totalRongsok","totalBrutoRongsok","listHutang","discount","bonus","denda","cashTempRp","alatBayarTunaiRp","transferTempRp","alatBayarTrfRp","noFaktur"])})).then((function(){return localStorage.setItem("isLogin",!0)})).then((function(){return t.props.dispatch(Object(b.b)())})).then((function(){return t.props.history.push("KlasifikasiSupplier")})).then((function(){return Object(S.a)("Tanggal",a.tanggal,"","","Nomor \nPembayaran",a.noBon,"","","ADMIN",a.tanggal,"",_,"NOTA PEMBAYARAN SUPPLIER",g)})).then((function(){return window.history.back()}))})).catch((function(a){return k.a.fire({position:"top-end",icon:"error",text:a.response.data,showConfirmButton:!1,timer:1500}).then((function(){return t.props.dispatch(Object(v.k)())}))}))}},{key:"render",value:function(){var a=this;return c.a.createElement("div",{className:"container-fluid",style:{color:"black"}},c.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},c.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")),c.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),c.a.createElement("ol",{className:"breadcrumb mb-2"},c.a.createElement(m.b,{to:"/KlasifikasiSupplier"},c.a.createElement("button",{type:"button",className:"btn btn-secondary"},c.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," Back"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(T.default,{title:"Pembayaran Hutang Supplier"}),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("ul",{className:"nav nav-pills bg-nav-pills nav-justified mb-3"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"#rupiah","data-toggle":"tab","aria-expanded":"false",className:"nav-link rounded-0 active",onClick:function(){return a.setState({tipeTransaksi:"BARANG"})}},c.a.createElement("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),c.a.createElement("span",{className:"d-none d-lg-block"},"Gram"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"#gram","data-toggle":"tab","aria-expanded":"true",className:"nav-link rounded-0 ",onClick:function(){return a.setState({tipeTransaksi:"RUPIAH"})}},c.a.createElement("i",{className:"mdi mdi-account-circle d-lg-none d-block mr-1"}),c.a.createElement("span",{className:"d-none d-lg-block"},"Rupiah")))),c.a.createElement("div",{className:"tab-content"},c.a.createElement("div",{className:"tab-pane show active",id:"rupiah"},c.a.createElement(s.Suspense,{fallback:c.a.createElement(R.a,{width:"100%",height:200})},c.a.createElement(E,{tampungCiok:this.props.tampungCiok,tampungRongsok:this.props.tampungRongsok,totalCiok:this.props.totalCiok,totalRongsok:this.props.totalRongsok,totalBrutoCiok:this.props.totalBrutoCiok,totalBrutoRongsok:this.props.totalBrutoRongsok,onSubmit:function(t){return a.handleSubmit(t)},jenisTransaksi:this.state.tipeTransaksi,onSend:this.props.onSend}))),c.a.createElement("div",{className:"tab-pane",id:"gram"},c.a.createElement(s.Suspense,{fallback:c.a.createElement(R.a,{width:"100%",height:200})},c.a.createElement(E,{tampungCiok:this.props.tampungCiok,tampungRongsok:this.props.tampungRongsok,totalCiok:this.props.totalCiok,totalRongsok:this.props.totalRongsok,totalBrutoCiok:this.props.totalBrutoCiok,totalBrutoRongsok:this.props.totalBrutoRongsok,onSubmit:function(t){return a.handleSubmit(t)},jenisTransaksi:this.state.tipeTransaksi,onSend:this.props.onSend})))))))))))}}]),e}(s.Component);t.default=Object(u.b)((function(a){return{pembayaranSupplierList:a.provinsi.pembayaranSupplier,tampungCiok:a.provinsi.tampungCiok,tampungRongsok:a.provinsi.tampungRongsok,totalCiok:a.provinsi.totalCiok,totalRongsok:a.provinsi.totalRongsok,totalBrutoCiok:a.provinsi.totalBrutoCiok,totalBrutoRongsok:a.provinsi.totalBrutoRongsok,alert:a.provinsi.alert,error:a.provinsi.error,noFaktur:a.provinsi.noFaktur,username:a.provinsi.username,onSend:a.provinsi.onSend}}),null)(I)}}]);
//# sourceMappingURL=139.6fc0480d.chunk.js.map