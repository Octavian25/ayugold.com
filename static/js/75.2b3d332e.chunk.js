(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[75],{1227:function(t,a,e){"use strict";e.r(a);var o=e(35),n=e(36),r=e(38),i=e(37),l=e(0),s=e.n(l),c=e(5),u=e(28),p=e(18),m=e(467),g=e(468),h=e(470),d=e(19),k=e.n(d),b=e(22),f=e(3),S=e(190),B=function(t){var a={};return t.tanggal||(a.tanggal="Tanggal Tidak Boleh Kosong"),t.supplier||(a.supplier="Tanggal Tidak Boleh Kosong"),t.noBon||(a.noBon="Tanggal Tidak Boleh Kosong"),a},y=Object(l.lazy)((function(){return e.e(11).then(e.bind(null,570))})),O=Object(l.lazy)((function(){return e.e(12).then(e.bind(null,571))})),v=function(t){Object(r.a)(e,t);var a=Object(i.a)(e);function e(t){var n;return Object(o.a)(this,e),(n=a.call(this,t)).state={listSupplier:[]},n}return Object(n.a)(e,[{key:"componentDidMount",value:function(){var t=this;Object(f.b)("suppliers").then((function(a){return t.setState({listSupplier:a.data})})).catch((function(t){return console.log(t)})),this.props.change("tanggal",S.b)}},{key:"setTotal",value:function(){this.props.change("totalBruto",this.props.sumBruto),this.props.change("totalNetto",this.props.sumNetto)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Suspense,{fallback:s.a.createElement(k.a,{width:"100%",height:50,count:2})},s.a.createElement("div",{className:"row"},s.a.createElement(y,{totalCiok:this.props.totalCiok,totalBrutoCiok:this.props.totalBrutoCiok}),s.a.createElement(O,{totalRongsok:this.props.totalRongsok,totalBrutoRongsok:this.props.totalBrutoRongsok}))),s.a.createElement("div",{className:"row mb-3"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(m.a,{name:"totalBruto",label:"Total Bruto",component:b.a,readOnly:!0,onBlur:this.setTotal()})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(m.a,{name:"totalNetto",label:"Total Netto",component:b.a,readOnly:!0,onBlur:this.setTotal()}))),s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement(m.a,{name:"tanggal",label:"Tanggal",type:"date",component:b.a})),s.a.createElement("div",{className:"col-md-4 col-lg-4"},s.a.createElement(m.a,{name:"supplier",className:"form-control",component:b.b,label:"Supplier",options:this.state.listSupplier.map((function(t){return{value:t.kodeSupplier+"|"+t.namaSupplier,name:t.namaSupplier}}))})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"noBon",component:b.a,type:"text",label:"No Bon Bayar"})),s.a.createElement("div",{className:"col-md-4 col-lg-4 d-none"},s.a.createElement(m.a,{name:"noBayar",label:"No Bayar",type:"text",component:b.a,onLoad:this.props.change("noBayar",this.props.noFaktur),readOnly:!0})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(m.a,{name:"keterangan",label:"Keterangan",type:"text",component:b.a})),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Simpan",s.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))))))}}]),e}(l.Component);v=Object(g.a)({form:"FormTolakanPembayaranHutangSupplier",enableReinitialize:!0,validate:B})(v);var N=Object(h.a)("FormTolakanPembayaranHutangSupplier"),E=Object(p.b)((function(t){var a=N(t,"harga","cash","transfer"),e=a.harga,o=a.cash,n=a.transfer,r=JSON.parse(localStorage.getItem("totalBrutoCiok"))?JSON.parse(localStorage.getItem("totalBrutoCiok")):0,i=JSON.parse(localStorage.getItem("totalBrutoRongsok"))?JSON.parse(localStorage.getItem("totalBrutoRongsok")):0,l=JSON.parse(localStorage.getItem("totalCiok"))?JSON.parse(localStorage.getItem("totalCiok")):0,s=JSON.parse(localStorage.getItem("totalRongsok"))?JSON.parse(localStorage.getItem("totalRongsok")):0;return{cashNetto:(parseFloat(o)/parseFloat(e)).toFixed(3),transferNetto:(parseFloat(n)/parseFloat(e)).toFixed(3),sumBruto:(parseFloat(r)+parseFloat(i)).toFixed(3),sumNetto:(parseFloat(l)+parseFloat(s)).toFixed(3)}}))(v),C=e(10),T=e.n(C),R=e(68),A=e.n(R),j=e(69),I=e(186),F=e(56),P=e(182),J=e(512),D=e(11),w=e(184),_=Object(l.lazy)((function(){return Promise.all([e.e(2),e.e(8)]).then(e.bind(null,506))})),x=Object(l.lazy)((function(){return Promise.all([e.e(0),e.e(1),e.e(9)]).then(e.bind(null,667))})),K=Object(l.lazy)((function(){return Promise.all([e.e(0),e.e(1),e.e(10)]).then(e.bind(null,668))})),M=Object({NODE_ENV:"production",PUBLIC_URL:"/ayugold.com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://147.139.193.169:3759/api/v1/",REACT_APP_BACKEND_URLLOCAL:"http://192.168.1.27:7001/api/v1/",REACT_APP_BACKEND_URL_WEB:"https://ayu-grosir-api.herokuapp.com/api/v1/"}).REACT_APP_BACKEND_URL_NON_MASTER,L=["totalCiok","totalRongsok","rongsokTemp","totalBrutoCiok","ciokTemp","totalBrutoRongsok","alatBayarBarang"],U=function(t){Object(r.a)(e,t);var a=Object(i.a)(e);function e(t){var n;return Object(o.a)(this,e),(n=a.call(this,t)).state={},n}return Object(n.a)(e,[{key:"handleSubmitCiok",value:function(t){var a={kodeBarang:t.kodeBarang.split("|")[0],netto:t.netto,bruto:t.bruto,kadarTransaksi:t.kadarTransaksi},e=JSON.parse(localStorage.getItem("ciokTemp"))||[];e.push(a),localStorage.setItem("ciokTemp",JSON.stringify(e));var o=JSON.parse(localStorage.getItem("alatBayarBarang"))||[];o.push(a),localStorage.setItem("alatBayarBarang",JSON.stringify(o)),this.props.dispatch(Object(u.e)()),T.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500})}},{key:"handleSubmitRongsok",value:function(t){var a={kodeBarang:t.kodeBarang.split("|")[0],netto:t.netto,bruto:t.bruto,kadarTransaksi:t.kadarTransaksi},e=JSON.parse(localStorage.getItem("rongsokTemp"))||[];e.push(a),localStorage.setItem("rongsokTemp",JSON.stringify(e));var o=JSON.parse(localStorage.getItem("alatBayarBarang"))||[];o.push(a),localStorage.setItem("alatBayarBarang",JSON.stringify(o)),this.props.dispatch(Object(u.f)()),T.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(u.e)()),this.props.dispatch(Object(u.f)()),this.props.dispatch(Object(j.b)())}},{key:"handlSubmit",value:function(t){var a=this;if(void 0===t.keterangan)return Object(F.e)("Mohon isi Keterangan"),!1;if(void 0===t.noBon)return Object(F.e)("Mohon isi Nomor Bon"),!1;if(void 0===t.supplier)return Object(F.e)("Mohon isi supplier"),!1;if(void 0===t.tanggal)return Object(F.e)("Mohon isi Tanggal"),!1;if(null===localStorage.getItem("alatBayarBarang"))return Object(F.e)("Mohon isi alat bayar"),!1;var e=JSON.parse(localStorage.getItem("alatBayarBarang")),o=(t.supplier?t.supplier:"DEFAULT | DEFUALT").split("|"),n={alatBayarBarang:e,keterangan:t.keterangan,totalAlatBayar:{totalRsk:parseFloat(this.props.totalRongsok).toFixed(3),totalCt:parseFloat(this.props.totalCiok).toFixed(3),totalTunaiRp:0,totalTrfRp:0,totalPutusGr:0,tipeData:"TOLAKAN SUPPLIER",totalPutusRp:0},kodeSupplier:o[0],namaSupplier:o[1],noBon:t.noBon,noFaktur:this.props.noFaktur,tanggal:t.tanggal,footerDocument:{inputBy:this.props.username}};console.log(JSON.stringify(n)),this.props.dispatch(Object(D.t)());var r=[];(JSON.parse(localStorage.getItem("ciokTemp"))||[]).forEach((function(t,a){var e=["Ciok",t.bruto,"",t.kadarTransaksi,t.netto,"",""];r.push(e)})),(JSON.parse(localStorage.getItem("rongsokTemp"))||[]).forEach((function(t,a){var e=["Rongsok",t.bruto,"",t.kadarTransaksi,t.netto,"",""];r.push(e)})),console.log(JSON.stringify(r));var i=["Jenis Pembayaran","Gross Bayar","Harga","Kadar","Netto","Pkg","Gw+Pkg"];A.a.post(M+"spp/dc/tlkbyr",n).then((function(){return T.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return a.props.dispatch(Object(D.k)())})).then((function(){return Object(J.c)(L)})).then((function(){return window.history.back()})).then((function(){return Object(I.a)("Tanggal",t.tanggal,"","","Nomor \nPembayaran",t.noBon,"","","ADMIN",t.tanggal,"",i,"NOTA TOLAKAN HUTANG SUPPLIER",r)})).then((function(){return a.props.dispatch(Object(P.a)("FormTolakanPembayaranHutangSupplier"))}))})).catch((function(t){return T.a.fire({position:"top-end",icon:"error",text:t,showConfirmButton:!1,timer:1500}).then((function(){return a.props.dispatch(Object(D.k)())}))}))}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"col-lg-12 col-d-12"},s.a.createElement("ol",{className:"breadcrumb mb-2"},s.a.createElement(c.b,{to:"/KlasifikasiSupplier"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return Object(J.c)(L)}},s.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," ","Back"))),s.a.createElement("div",{className:"card"},s.a.createElement(w.default,{title:"Tolak Pembayaran Hutang Supplier"}),s.a.createElement("div",{className:"card-body"},s.a.createElement(E,{noFaktur:this.props.noFaktur,tampungCiok:this.props.tampungCiok,tampungRongsok:this.props.tampungRongsok,totalCiok:this.props.totalCiok,totalBrutoCiok:this.props.totalBrutoCiok,totalRongsok:this.props.totalRongsok,totalBrutoRongsok:this.props.totalBrutoRongsok,onSubmit:function(a){return t.handlSubmit(a)},onSend:this.props.onSend})))),s.a.createElement(_,{content:"CIOK"===this.props.tipeBayarModal?s.a.createElement(l.Suspense,{fallback:s.a.createElement(k.a,{width:"100%",height:50,count:3})},s.a.createElement(x,{data:this.props.tampungCiok,onSubmit:function(a){return t.handleSubmitCiok(a)},onSend:this.props.onSend})):s.a.createElement(l.Suspense,{fallback:s.a.createElement(k.a,{width:"100%",height:50,count:3})},s.a.createElement(K,{onSubmit:function(a){return t.handleSubmitRongsok(a)},data:this.props.tampungRongsok,onSend:this.props.onSend})),title:"CIOK"===this.props.tipeBayarModal?"Tambah Data Ciok":"Tambah Data Rongsok"}))}}]),e}(l.Component);a.default=Object(p.b)((function(t){return{noFaktur:t.provinsi.noFaktur,username:t.provinsi.username,tampungCiok:t.provinsi.tampungCiok,tampungRongsok:t.provinsi.tampungRongsok,totalCiok:t.provinsi.totalCiok,totalRongsok:t.provinsi.totalRongsok,totalBrutoCiok:t.provinsi.totalBrutoCiok,totalBrutoRongsok:t.provinsi.totalBrutoRongsok,onSend:t.provinsi.onSend,tipeBayarModal:t.provinsi.tipeBayarModal}}),null)(U)},182:function(t,a,e){"use strict";e.d(a,"a",(function(){return n}));var o=e(20),n=(o.a.arrayInsert,o.a.arrayMove,o.a.arrayPop,o.a.arrayPush,o.a.arrayRemove,o.a.arrayRemoveAll,o.a.arrayShift,o.a.arraySplice,o.a.arraySwap,o.a.arrayUnshift,o.a.autofill,o.a.blur,o.a.change,o.a.clearAsyncError,o.a.clearFields,o.a.clearSubmit,o.a.clearSubmitErrors,o.a.destroy,o.a.focus,o.a.initialize,o.a.registerField,o.a.reset);o.a.resetSection,o.a.setSubmitFailed,o.a.setSubmitSucceeded,o.a.startAsyncValidation,o.a.startSubmit,o.a.stopAsyncValidation,o.a.stopSubmit,o.a.submit,o.a.touch,o.a.unregisterField,o.a.untouch,o.a.updateSyncWarnings,o.a.updateSyncErrors},512:function(t,a,e){"use strict";e.d(a,"c",(function(){return r})),e.d(a,"a",(function(){return i})),e.d(a,"b",(function(){return l}));var o=e(10),n=e.n(o),r=function(t){t.forEach((function(t){localStorage.removeItem(t)}))},i=function(t,a,e,o){n.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(r){if(r.isConfirmed){var i=JSON.parse(localStorage.getItem(t))||[];i.splice(a,1),localStorage.setItem(t,JSON.stringify(i)),n.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return e(o)}))}}))},l=function(t,a,e,o){return new Promise((function(r,i){n.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(i){if(i.isConfirmed){var l=JSON.parse(localStorage.getItem(t))||[];l.splice(a,1),localStorage.setItem(t,JSON.stringify(l)),n.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return e(o)})).then(r("Berhasil")).catch("Gagal")}}))}))}}}]);
//# sourceMappingURL=75.2b3d332e.chunk.js.map