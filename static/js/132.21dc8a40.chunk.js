(this.webpackJsonpayu=this.webpackJsonpayu||[]).push([[132],{1081:function(e,a,t){"use strict";t.r(a);var n=t(39),i=t(40),o=t(42),r=t(41),s=t(0),l=t.n(s),m=t(454),c=t(377),d=t(19),u=t(78),p=t(306),h=t.n(p),k=t(372),E=t.n(k),b=t(373),f=t.n(b),v=t(3),N=t.n(v),g=t(43),y=t.n(g),L=t(298),x=t(312),O=function(e){var a=e.input,t=e.label,n=e.type,i=e.readOnly,o=e.limit,r=e.meta,s=r.touched,m=r.error,c=r.warning;return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"",className:"text-black"},t),l.a.createElement("input",Object.assign({},a,{type:n,className:"form-control",readOnly:i,maxLength:o})),s&&(m&&l.a.createElement("p",{className:"invalid-feedback"},m)||c&&l.a.createElement("p",null,c)))},D=function(e){Object(o.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).state={response:"",status:"AKTIF",listProvinsi:[]},i}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.a.get("http://157.245.145.87:9011/master/citys").then((function(a){return e.setState({listProvinsi:a.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.kode,a=this.props.nama;return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement(L.a,{name:e.replace(/\s/g,""),type:"text",normalize:function(e){return e&&e.toUpperCase()},component:O,label:this.props.kode,readOnly:!0,limit:5})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement(L.a,{name:"kodeExt",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:O,label:this.props.kode_ext})),l.a.createElement("div",{className:"col-md-4"},l.a.createElement(L.a,{name:a.replace(/\s/g,""),type:"text",normalize:function(e){return e&&e.toUpperCase()},component:O,label:this.props.nama})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"",className:"text-black"},"Status"),l.a.createElement(L.a,{component:"select",name:"status",type:"text",normalize:function(e){return e&&e.toUpperCase()},className:"form-control"},l.a.createElement("option",{value:"AKTIF",key:"AKTIF"},"Aktif"),l.a.createElement("option",{value:"NON-AKTIF",key:"NON-AKTIF"},"Non Aktif")))),l.a.createElement("div",{className:"col-lg-12 col-md-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{type:"submit",id:"simpan",className:"btn btn-primary",disabled:this.props.submitting},"Submit"))))))}}]),t}(s.Component);D=Object(x.a)({form:"LokasiEdit",validate:function(e){var a={};return e.KodeLokasi||(a.KodeLokasi="Tidak Boleh kosong"),a},enableReinitialize:!0})(D);var A=Object(d.b)((function(e){return{initialValues:{status:e.provinsi.editLokasi.Status,tipeData:e.provinsi.editLokasi.tipeData,NamaLokasi:e.provinsi.editLokasi.namaLokasi,KodeLokasi:e.provinsi.editLokasi.kodeLokasi,kodeExt:e.provinsi.editLokasi.kodeExt}}}),null)(D),C=t(294),K=t(88),w=t.n(K),S="http://157.245.145.87:9011/master/";function I(e,a){return"AKTIF"===a.statusAktif?l.a.createElement("div",null,l.a.createElement("img",{src:E.a,style:{width:50,height:50},alt:"ACTIVE"})):l.a.createElement("div",null,l.a.createElement("img",{src:f.a,alt:"NON ACTIVE",style:{width:50,height:50}}))}var j=[{dataField:"kodeLokasi",order:"asc"}];var B=function(e){Object(o.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).state={Lokasi:[],response:"",columns:[{dataField:"kodeLokasi",text:"Kode Lokasi",sort:!0,headerStyle:function(){return{width:"15%"}}},{dataField:"namaLokasi",text:"Nama Lokasi",sort:!0},{dataField:"statusAktif",text:"Status",sort:!0,formatter:I,headerStyle:function(){return{width:"10%"}}},{dataField:"link",text:"Aksi",csvExport:!1,formatter:function(e,a){return l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return e=i.props.dispatch,t=a.kodeLokasi,void y.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&N.a.delete(S+"storage",{data:{kodeLokasi:t}}).then((function(e){return y.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Dihapus!",showConfirmButton:!1,timer:1500})})).catch((function(e){return y.a.fire({position:"top-end",icon:"error",text:"Data Gagal Dihapus!",showConfirmButton:!1,timer:1500})})).then((function(){return e(Object(u.d)())}))}));var e,t}},l.a.createElement("i",{className:"fa fa-trash mr-1"}),"HAPUS"),l.a.createElement("button",{"data-toggle":"modal","data-target":"#editModal",className:"btn btn-warning",onClick:function(){return i.props.dispatch(Object(u.c)(a.tipeData,a.kodeLokasi,a.namaLokasi,a.status,a.kodeExt))}},l.a.createElement("i",{className:"fa fa-edit mr-2"}),"EDIT"))}}]},i}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(u.d)())}},{key:"handleSubmit",value:function(e){var a=this,t={statusAktif:e.status?e.status:"AKTIF",tipeData:"LOKASI",kodeLokasi:e.KodeLokasi,namaLokasi:e.NamaLokasi,kodeExt:e.kodeExt};console.log(t),N.a.post(S+"storage",t).then((function(e){return y.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan!",showConfirmButton:!1,timer:1500})}),document.getElementById("dismiss_modal").click()).catch((function(e){return y.a.fire({position:"top-end",icon:"error",text:"Data Gagal Disimpan!",showConfirmButton:!1,timer:1500})})).then((function(){return a.props.dispatch(Object(u.d)())})).then((function(){return a.props.dispatch(Object(C.a)("Provinsi"))}))}},{key:"handleEdit",value:function(e){var a=this,t={statusAktif:e.status?e.status:"AKTIF",tipeData:"LOKASI",kodeLokasi:e.KodeLokasi,namaLokasi:e.NamaLokasi,kodeExt:e.kodeExt};console.log(t),N.a.put(S+"storage",t).then((function(e){return y.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Dirubah!",showConfirmButton:!1,timer:1500})}),document.getElementById("dismiss_modal1").click()).catch((function(e){return y.a.fire({position:"top-end",icon:"error",text:"Data Gagal Dirubah!",showConfirmButton:!1,timer:1500})})).then((function(){return a.props.dispatch(Object(u.d)())}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container-fluid",style:{color:"black"}},l.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},l.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")),l.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title mb-3",style:{fontSize:30}},"Data Lokasi"),l.a.createElement("div",{className:"col-lg-12 col-md-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{name:"simpan",id:"simpan",type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#primary-header-modal"},"Tambah Data Lokasi"))),this.props.lokasi?l.a.createElement(c.a,{data:this.props.lokasi,columns:this.state.columns,defaultSorted:j,namaKey:"kodeLokasi"}):l.a.createElement("div",null,this.props.error?l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{src:h.a,style:{width:"30%"},alt:"NOT RESPOND"}),l.a.createElement("br",null),l.a.createElement("h4",null,"Request API Gagal, Silahkan Refresh")):l.a.createElement(w.a,{width:1100,height:180})))))),l.a.createElement("div",{id:"primary-header-modal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},l.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Tambah Data Lokasi"),l.a.createElement("button",{type:"button",id:"dismiss_modal",name:"dismiss_modal",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(m.a,{nama:"Nama Lokasi",kode:"Kode Lokasi",from:"lokasi",onSubmit:function(a){return e.handleSubmit(a)},kode_ext:"Kode Ext"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal"},"Close"))))),l.a.createElement("div",{id:"editModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},l.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Edit Data Lokasi"),l.a.createElement("button",{type:"button",id:"dismiss_modal1",name:"dismiss_modal1",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(A,{nama:"Nama Lokasi",kode:"Kode Lokasi",from:"lokasi",onSubmit:function(a){return e.handleEdit(a)},kode_ext:"Kode Ext"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal"},"Close"))))))}}]),t}(s.Component);a.default=Object(d.b)((function(e){return{lokasi:e.provinsi.lokasi,alert:e.provinsi.alert,error:e.provinsi.error}}),null)(B)}}]);
//# sourceMappingURL=132.21dc8a40.chunk.js.map