{"version":3,"sources":["Validations/validationPindahBarang.js","Stocking/Component/FormTambahBarang.jsx"],"names":["validationPindahBarang","value","errors","kodeBarang","keterangan","kadar","pkg","bruto","netto","currencyMask","createNumberMask","prefix","suffix","locale","renderField","input","label","type","limit","readOnly","meta","touched","error","warning","className","htmlFor","min","step","maxLength","FormTambahBarang","props","handleChange","e","result_explode","target","split","setState","kodeJenis","kadarCetak","kadarBeli","kadarJual","namaJenis","state","listBarang","this","dispatch","getListBarang","getTimbangan","change","onSubmit","handleSubmit","Field","name","component","onChange","onBlur","setKadar","key","KodeBarangList","map","list","kode_jenis","kadar_cetak","kadar_beli","kadar_jual","nama_jenis","kode_kategori","setNetto","defaultValue","Component","reduxForm","form","enableReinitialize","validate","selector","formValueSelector","connect","kadarTransaksi","provinsi","parseFloat","toFixed","initialValues"],"mappings":"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","file":"static/js/118.ad68d93e.chunk.js","sourcesContent":["const validationPindahBarang = (value) => {\r\n    const errors = {}\r\n    if (!value.kodeBarang) {\r\n        errors.kodeBarang = \"Tidak Boleh kosong\"\r\n    }\r\n    if (!value.keterangan) {\r\n        errors.keterangan = \"Tidak Boleh kosong\"\r\n    }\r\n    if (!value.kadar) {\r\n        errors.kadar = \"Tidak Boleh kosong\"\r\n    }\r\n    if (!value.pkg) {\r\n        errors.pkg = \"Tidak Boleh kosong\"\r\n    }\r\n    if (!value.bruto) {\r\n        errors.bruto = \"Tidak Boleh kosong\"\r\n    }\r\n    if (!value.netto) {\r\n        errors.netto = \"Tidak Boleh kosong\"\r\n    }\r\n    return errors\r\n}\r\n\r\nexport default validationPindahBarang;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport validationPindahBarang from \"../../Validations/validationPindahBarang\";\r\nimport { getTimbangan } from \"../../GetTimbangan\";\r\nimport { getListBarang } from \"../../actions/kodeBarangAction\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  suffix: \",-\",\r\n  locale: \"id-ID\",\r\n});\r\nconst renderField = ({\r\n  input,\r\n  label,\r\n  type,\r\n  limit,\r\n  readOnly,\r\n  meta: { touched, error, warning },\r\n}) => (\r\n  <div className=\"form-group\">\r\n    <label htmlFor=\"\" className=\"text-black\">\r\n      {label}\r\n    </label>\r\n    <input\r\n      {...input}\r\n      type={type}\r\n      className=\"form-control\"\r\n      min=\"0\"\r\n      step=\"0.001\"\r\n      maxLength={limit}\r\n      readOnly={readOnly}\r\n    />\r\n    {touched &&\r\n      ((error && <p className=\"invalid-feedback\">{error}</p>) ||\r\n        (warning && <p>{warning}</p>))}\r\n  </div>\r\n);\r\nclass FormTambahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listBarang: [],\r\n      kodeJenis: \"\",\r\n      kadarCetak: \"\",\r\n      kadarBeli: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getListBarang());\r\n    getTimbangan(this.props.change);\r\n  }\r\n\r\n  handleChange = (input) => (e) => {\r\n    var supp = e.target.value\r\n      ? e.target.value\r\n      : \"DEFAULT | DEFAULT | DEFAULT | DEFAULT \";\r\n    var result_explode = supp.split(\"|\");\r\n    this.setState({\r\n      kodeJenis: result_explode[0],\r\n      kadarCetak: result_explode[1],\r\n      kadarBeli: result_explode[2],\r\n      kadarJual: result_explode[3],\r\n      namaJenis: result_explode[4],\r\n    });\r\n  };\r\n\r\n  setKadar() {\r\n    this.props.change(\"kadar\", this.state.kadarCetak);\r\n    this.props.change(\"kadarTransaksi\", this.state.kadarBeli);\r\n    this.props.change(\"kadarJual\", this.state.kadarJual);\r\n    this.props.change(\"keterangan\", this.state.namaJenis);\r\n  }\r\n  setNetto() {\r\n    this.props.change(\r\n      \"netto\",\r\n      this.props.netto === \"NaN\" ? 0 : this.props.netto\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-3 form-group\">\r\n            <label htmlFor=\"\">Kode Barang</label>\r\n            <Field\r\n              name=\"kodeBarang\"\r\n              component=\"select\"\r\n              className=\"form-control\"\r\n              onChange={this.handleChange()}\r\n              onBlur={this.setKadar()}\r\n            >\r\n              <option value=\"DEFAULT|DEFAULT|DEFAULT\" key=\"DEFAULT\">\r\n                SILAHKAN PILIH\r\n              </option>\r\n              {this.props.KodeBarangList.map((list) => (\r\n                <option\r\n                  value={\r\n                    list.kode_jenis +\r\n                    \"|\" +\r\n                    list.kadar_cetak +\r\n                    \"|\" +\r\n                    list.kadar_beli +\r\n                    \"|\" +\r\n                    list.kadar_jual +\r\n                    \"|\" +\r\n                    list.nama_jenis +\r\n                    \"|\" +\r\n                    list.kode_kategori\r\n                  }\r\n                  key={list.kode_jenis}\r\n                >\r\n                  {list.nama_jenis}\r\n                </option>\r\n              ))}\r\n            </Field>\r\n          </div>\r\n          <div className=\"col-md-4 form-group\">\r\n            <Field\r\n              name=\"keterangan\"\r\n              label=\"Keterangan\"\r\n              component={renderField}\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-5\"></div>\r\n          <div className=\"col-md-2 form-group\">\r\n            <Field\r\n              name=\"kadar\"\r\n              label=\"Kadar (%)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-2 form-group\">\r\n            <Field\r\n              name=\"pkg\"\r\n              label=\"Pkg (Gr)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              onBlur={this.setNetto()}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-2 form-group\">\r\n            <Field\r\n              name=\"bruto\"\r\n              label=\"Bruto (Gr)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              onBlur={this.setNetto()}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-2 form-group\">\r\n            <Field\r\n              name=\"kadarTransaksi\"\r\n              label=\"Harga (%)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n              readOnly={true}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-2 form-group\">\r\n            <Field\r\n              name=\"netto\"\r\n              label=\"Netto (Gr)\"\r\n              component={renderField}\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 form-group\">\r\n            <label htmlFor=\"\">Ongkos (Rp)</label>\r\n            <Field\r\n              name=\"ongkos\"\r\n              label=\"Ongkos (Rp)\"\r\n              component=\"input\"\r\n              type=\"telp\"\r\n              className=\"form-control\"\r\n              defaultValue={0}\r\n              {...currencyMask}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-12 form-group\">\r\n            <div className=\"text-right\">\r\n              <button className=\"btn btn-primary\" type=\"submit\">\r\n                Simpan\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormTambahBarang = reduxForm({\r\n  form: \"FormTambahBarang\",\r\n  enableReinitialize: true,\r\n  validate: validationPindahBarang,\r\n})(FormTambahBarang);\r\nconst selector = formValueSelector(\"FormTambahBarang\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { bruto, kadarTransaksi } = selector(state, \"bruto\", \"kadarTransaksi\");\r\n  return {\r\n    KodeBarangList: state.provinsi.kodeBarang,\r\n    netto: (parseFloat(bruto) * (parseFloat(kadarTransaksi) / 100)).toFixed(3),\r\n    initialValues: {\r\n      pkg: 0,\r\n      bruto: 0,\r\n    },\r\n  };\r\n})(FormTambahBarang);\r\n"],"sourceRoot":""}