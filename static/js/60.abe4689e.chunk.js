(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[60,1],{1210:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a(20),i=a(22),l=a(21),o=a(0),c=a.n(o),p=a(7),s=a(51),m=a(41),u=a(16),g=a(32),d=a(151),h=a(152),_=a(45),b=a(216),k=a(5),f=a(12),v=a(13),E=a(18),N=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(_.h)())}},{key:"render",value:function(){var e=this;return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement(g.a,{name:"kode_customer",component:f.b,options:this.props.customer.map((function(e){return{value:e.kode_customer,name:e.nama_customer}})),type:"text",label:"Nama Toko",placeholder:"Masukan Nama Toko",disabled:!0})),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement(g.a,{name:"kode_customer_tujuan",component:f.b,options:this.props.customer.map((function(e){return{value:e.kode_customer,name:e.nama_customer}})),type:"text",label:"Nama Toko Tujuan ",placeholder:"Masukan Nama Toko Tujuan"})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr",component:f.a,type:"text",label:"Piutang GR",placeholder:"Masukan Piutang GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp",component:f.a,type:"text",label:"Piutang RP",placeholder:"Masukan Piutang RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr",component:f.a,type:"text",label:"Titip GR",placeholder:"Masukan Titip GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp",component:f.a,type:"text",label:"Titip RP",placeholder:"Masukan Titip RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr_ambil",component:f.a,type:"number",label:"Ambil Piutang GR",placeholder:"Masukan Piutang GR",onChange:function(){return e.props.change("piutang_gr_akhir",e.props.piutang_gr_akhir)},onBlur:function(){return e.props.change("piutang_gr_akhir",e.props.piutang_gr_akhir)}})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp_ambil",component:f.a,type:"number",label:"Ambil Piutang RP",placeholder:"Masukan Piutang RP",onChange:function(){return e.props.change("piutang_rp_akhir",e.props.piutang_rp_akhir)},onBlur:function(){return e.props.change("piutang_rp_akhir",e.props.piutang_rp_akhir)}})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr_ambil",component:f.a,type:"number",label:"Ambil Titip GR",placeholder:"Masukan Titip GR",onChange:function(){return e.props.change("titip_gr_akhir",e.props.titip_gr_akhir)},onBlur:function(){return e.props.change("titip_gr_akhir",e.props.titip_gr_akhir)}})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp_ambil",component:f.a,type:"number",label:"Ambil Titip RP",placeholder:"Masukan Titip RP",onChange:function(){return e.props.change("titip_rp_akhir",e.props.titip_gr_akhir)},onBlur:function(){return e.props.change("titip_rp_akhir",e.props.titip_gr_akhir)}})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-11"},c.a.createElement("hr",null)),c.a.createElement("div",{className:"col-lg-1"},c.a.createElement("i",{className:"fa fa-minus"})))),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr_akhir",component:f.a,type:"text",label:"Piutang GR",placeholder:"Masukan Piutang GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp_akhir",component:f.a,type:"text",label:"Piutang RP",placeholder:"Masukan Piutang RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr_akhir",component:f.a,type:"text",label:"Titip GR",placeholder:"Masukan Titip GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp_akhir",component:f.a,type:"text",label:"Titip RP",placeholder:"Masukan Titip RP",readOnly:!0}))),c.a.createElement("div",{className:"col-lg-12 col-md-12 mt-2"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Transfer Balance"))))}}]),a}(o.Component);N=Object(d.a)({form:"TransferBalance",enableReinitialize:!0})(N);var y=Object(h.a)("TransferBalance"),O=Object(u.b)((function(e){var t=y(e,"piutang_gr","piutang_rp","titip_gr","titip_rp","piutang_gr_ambil","piutang_rp_ambil","titip_gr_ambil","titip_rp_ambil"),a=t.piutang_gr,n=t.piutang_rp,r=t.titip_gr,i=t.titip_rp,l=t.piutang_gr_ambil,o=t.piutang_rp_ambil,c=t.titip_gr_ambil,p=t.titip_rp_ambil;return{customer:e.provinsi.customer,titip_rp_akhir:parseFloat(i)-parseFloat(p||0),titip_gr_akhir:parseFloat(r)-parseFloat(c||0),piutang_rp_akhir:parseFloat(n)-parseFloat(o||0),piutang_gr_akhir:parseFloat(a)-parseFloat(l||0),initialValues:{piutang_gr:e.provinsi.listPiutangCustomer.piutang_gr,piutang_rp:e.provinsi.listPiutangCustomer.piutang_rp,titip_gr:e.provinsi.listPiutangCustomer.titip_gr,titip_rp:e.provinsi.listPiutangCustomer.titip_rp,kode_customer:e.provinsi.listPiutangCustomer.kode_customer}}}))(N),j=a(615),T=a(55),P=a(39),R=a(27),x=function(e){var t=e.input,a=e.label,n=e.type,r=e.limit,i=e.readOnly,l=e.meta,o=l.touched,p=l.error,s=l.warning;return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"",className:"text-black"},a),c.a.createElement("input",Object.assign({},t,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:r,readOnly:i})),o&&(p&&c.a.createElement("p",{className:"invalid-feedback"},p)||s&&c.a.createElement("p",null,s)))},C=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).inputChange=function(e){return function(t){r.setState(Object(m.a)({},e,t.target.value))}},r.state={columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"kode_customer",text:"Kode Customer"},{dataField:"piutang_gr",text:"Piutang GR"},{dataField:"piutang_rp",text:"Piutang RP"},{dataField:"titip_gr",text:"Titip GR"},{dataField:"titip_rp",text:"Titip RP"}],searchText:"",listCustomer:[]},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(_.h)()),this.props.dispatch(Object(P.b)())}},{key:"onChange",value:function(){this.props.change("cashNetto",this.props.cashNetto),this.props.change("transferNetto",this.props.transferNetto)}},{key:"onSubmitToko",value:function(e){var t=this,a=e.split("|");this.props.change("kodeToko",a[0]),this.props.change("kodeCustomer",a[1]),this.props.dispatch(Object(b.c)(a[0],this.props.tanggal)),this.props.dispatch(Object(v.t)()),Object(k.b)("trx-transfer-balance/get-piutang-titipan/".concat(a[0],"&").concat(this.props.tanggal)).then((function(e){t.props.dispatch(Object(v.k)()),t.props.change("piutang_gr",e.data.piutang_gr),t.props.change("piutang_rp",e.data.piutang_rp),t.props.change("titip_gr",e.data.titip_gr),t.props.change("titip_rp",e.data.titip_rp)})).catch((function(e){return Object(E.c)("Gagal Ambil Data , Detial : ".concat(e)).then((function(){return t.props.dispatch(Object(v.k)())}))}))}},{key:"handleSubmit",value:function(e){var t=this;if(void 0===e.kode_customer_tujuan)return Object(E.e)("Mohon Isi Customer Tujuan"),!1;var a={no_transfer:this.props.noFaktur,tanggal:this.props.tanggal||Object(R.d)(),kode_customer_from:e.kode_customer,kode_customer_to:e.kode_customer_tujuan,total_jml_gr:e.piutang_gr_ambil,total_jml_rp:e.piutang_rp_ambil,total_titip_gr:e.titip_gr_ambil,total_titip_rp:e.titip_rp_ambil};Object(k.c)("trx-transfer-balance/simpan",a).then((function(){return Object(E.b)("Transfer Berhasil")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return t.props.dispatch(Object(T.g)())})).then((function(){return t.props.dispatch(Object(P.b)())})).then((function(){return window.location.reload()})).catch((function(e){return Object(E.c)("Gagal Transfer, Detail : ".concat(e))}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(g.a,{name:"tanggal",label:"Tanggal",type:"date",component:x})),c.a.createElement("div",{className:"col-md-4 col-lg-4 d-none"},c.a.createElement(g.a,{name:"kodeToko",component:x,type:"text",label:"Nama Toko"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(g.a,{name:"kode_customer",component:f.b,options:this.props.customer.map((function(e){return{value:e.kode_customer+"|"+e.nama_customer,name:e.nama_toko}})),onChange:function(t){return e.onSubmitToko(t)},type:"text",label:"Nama Toko",placeholder:"Masukan Nama Toko"})),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(g.a,{name:"kodeCustomer",component:x,type:"text",label:"Nama Customer",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr",component:x,type:"text",label:"Piutang GR",placeholder:"Masukan Piutang GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp",component:x,type:"text",label:"Piutang RP",placeholder:"Masukan Piutang RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp",component:x,type:"text",label:"Titip RP",placeholder:"Masukan Titip RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr",component:x,type:"text",label:"Titip GR",placeholder:"Masukan Titip GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-12 col-md-12 mt-2"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:this.props.onSend,onClick:function(){return e.props.dispatch(Object(T.j)())}},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Transfer Balance"))),c.a.createElement(j.default,{content:c.a.createElement(O,{onSubmit:function(t){return e.handleSubmit(t)}}),title:"Transfer Balance"}))}}]),a}(o.Component);C=Object(d.a)({form:"FormTransferBalance",enableReinitialize:!0})(C);var F=Object(h.a)("FormTransferBalance"),G=Object(u.b)((function(e){var t=F(e,"harga","cash","transfer","tanggal"),a=t.harga,n=t.cash,r=t.transfer,i=t.tanggal;return{cashNetto:(parseFloat(n)/parseFloat(a)).toFixed(3),transferNetto:(parseFloat(r)/parseFloat(a)).toFixed(3),customer:e.provinsi.customer,piutang_gr:e.provinsi.listPiutangCustomer.piutang_gr,piutang_rp:e.provinsi.listPiutangCustomer.piutang_rp,titip_gr:e.provinsi.listPiutangCustomer.titip_gr,titip_rp:e.provinsi.listPiutangCustomer.titip_rp,tanggal:i,onSend:e.provinsi.onSend,noFaktur:e.provinsi.noFaktur}}))(C),M=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r}return Object(r.a)(a,[{key:"handlSubmit",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"col-lg-12 col-d-12"},c.a.createElement("ol",{className:"breadcrumb mb-2"},c.a.createElement(p.b,{to:"/KlasifikasiCustomer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary"},c.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," ","Back"))),c.a.createElement("div",{className:"card"},c.a.createElement(s.default,{title:"Transfer Balance Customer"}),c.a.createElement("div",{className:"card-body"},c.a.createElement(G,{onSubmit:function(t){return e.handlSubmit(t)}})))))}}]),a}(o.Component);t.default=M},615:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a(20),i=a(22),l=a(21),o=a(1189),c=a(0),p=a.n(c),s=a(16),m=a(55),u=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return p.a.createElement(o.a,{show:this.props.show,onHide:function(){return e.props.dispatch(Object(m.g)())},dialogClassName:"modal-xl",backdrop:"static",keyboard:!1},p.a.createElement(o.a.Header,{closeButton:!0,style:{backgroundColor:"#5F76E8",color:"#ffffff"}},p.a.createElement(o.a.Title,null,this.props.title||"")),p.a.createElement(o.a.Body,null,this.props.content||""))}}]),a}(c.Component);t.default=Object(s.b)((function(e){return{show:e.modal.show}}),null)(u)}}]);
//# sourceMappingURL=60.abe4689e.chunk.js.map