(this.webpackJsonpayu=this.webpackJsonpayu||[]).push([[130],{1104:function(e,a,t){"use strict";t.r(a);var r=t(39),n=t(40),o=t(42),i=t(41),l=t(0),s=t.n(l),m=t(454),c=t(377),d=t(372),u=t.n(d),p=t(373),h=t.n(p),b=t(19),f=t(306),E=t.n(f),v=t(76),N=t(3),A=t.n(N),k=t(43),y=t.n(k),g=t(298),K=t(312),x=t(455),O=function(e){var a=e.input,t=e.label,r=e.type,n=e.readOnly,o=e.meta,i=o.touched,l=o.error,m=o.warning;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},t),s.a.createElement("input",Object.assign({},a,{type:r,className:"form-control",readOnly:n})),i&&(l&&s.a.createElement("p",{className:"invalid-feedback"},l)||m&&s.a.createElement("p",null,m)))},C=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={response:"",status:"AKTIF",listProvinsi:[]},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.a.get("http://157.245.145.87:9011/master/citys").then((function(a){return e.setState({listProvinsi:a.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.kode,a=this.props.nama;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2"},s.a.createElement(g.a,{name:e.replace(/\s/g,""),type:"text",normalize:function(e){return e&&e.toUpperCase()},component:O,readOnly:!0,label:this.props.kode})),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},this.props.kode_ext),s.a.createElement(g.a,{component:"select",name:"kota"===this.props.from?"kodeProvinsi":"kodeKota",type:"text",normalize:function(e){return e&&e.toUpperCase()},className:"form-control"},s.a.createElement("option",{value:"DEFAULT"},"SILAHKAN PILIH"),this.state.listProvinsi.map((function(e){return s.a.createElement("option",{value:e.kodeKota,key:e.kodeKota},e.namaKota)}))))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(g.a,{name:a.replace(/\s/g,""),type:"text",normalize:function(e){return e&&e.toUpperCase()},component:O,label:this.props.nama})),s.a.createElement("div",{className:"col-md-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},"Status"),s.a.createElement(g.a,{component:"select",name:"status",type:"text",normalize:function(e){return e&&e.toUpperCase()},className:"form-control"},s.a.createElement("option",{value:"AKTIF",key:"AKTIF"},"Aktif"),s.a.createElement("option",{value:"NON-AKTIF",key:"NON-AKTIF"},"Non Aktif")))),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{type:"submit",id:"simpan",className:"btn btn-primary",disabled:this.props.submitting},"Submit"))))))}}]),t}(l.Component);C=Object(K.a)({form:"KotaEdit",validate:x.a,enableReinitialize:!0})(C);var D=Object(b.b)((function(e){return{initialValues:{status:e.provinsi.editArea.Status,KodeArea:e.provinsi.editArea.kodeArea,NamaArea:e.provinsi.editArea.namaArea,kodeKota:e.provinsi.editArea.kodeKota}}}),null)(C),S=t(294),j=t(88),w=t.n(j);function I(e,a){return"AKTIF"===a.statusAktif?s.a.createElement("div",null,s.a.createElement("img",{src:u.a,style:{width:50,height:50},alt:"ACTIVE"})):s.a.createElement("div",null,s.a.createElement("img",{src:h.a,alt:"NON ACTIVE",style:{width:50,height:50}}))}var F="http://157.245.145.87:9011/master/";var T=[{dataField:"kodeArea",order:"asc"}],B=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).updateStatus=function(e){console.log(e),n.setState({response:e}),n.props.dispatch(Object(v.d)())},n.state={Area:[],AreaArray:[],response:"",columns:[{dataField:"kodeArea",text:"Kode Area",sort:!0,headerStyle:function(){return{width:"15%"}}},{dataField:"namaArea",text:"Nama Area",sort:!0},{dataField:"kodeKota",text:"Kode Kota",sort:!0},{dataField:"statusAktif",text:"Status",sort:!0,formatter:I,headerStyle:function(){return{width:"10%"}}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,a){return s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return e=n.props.dispatch,t=a.kodeArea,void y.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&A.a.delete(F+"area",{data:{kodeArea:t}}).then((function(e){return y.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Dihapus!",showConfirmButton:!1,timer:1500})})).catch((function(e){return y.a.fire({position:"top-end",icon:"error",text:"Data Gagal Dihapus!",showConfirmButton:!1,timer:1500})})).then((function(){return e(Object(v.d)())}))}));var e,t}},s.a.createElement("i",{className:"fa fa-trash mr-1"}),"HAPUS"),s.a.createElement("button",{className:"btn btn-warning mr-2","data-toggle":"modal","data-target":"#editModal",onClick:function(){return n.props.dispatch(Object(v.c)(a.kodeArea,a.namaArea,a.kodeKota,a.statusAktif))}},s.a.createElement("i",{className:"fa fa-edit mr-1"}),"EDIT"))}}]},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(v.d)())}},{key:"handleSubmit",value:function(e){var a=this;A.a.post(F+"area",{statusAktif:e.status?e.status:"AKTIF",namaArea:e.NamaArea,kodeArea:e.KodeArea,kodeKota:e.kodeKota}).then((function(e){return y.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan!",showConfirmButton:!1,timer:1500})}),document.getElementById("dismiss_modal").click()).catch((function(e){return y.a.fire({position:"top-end",icon:"error",text:"Data Gagal Disimpan!",showConfirmButton:!1,timer:1500})})).then((function(){return a.props.dispatch(Object(v.d)())})).then((function(){return a.props.dispatch(Object(S.a)("Provinsi"))}))}},{key:"handleEdit",value:function(e){var a=this,t={statusAktif:e.status?e.status:"AKTIF",namaArea:e.NamaArea,kodeArea:e.KodeArea,kodeKota:e.kodeKota};console.log(t),A.a.put(F+"area",t).then((function(e){return y.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Diubah!",showConfirmButton:!1,timer:1500})}),document.getElementById("dismiss_modal1").click()).catch((function(e){return y.a.fire({position:"top-end",icon:"error",text:"Data Gagal Diubah!",showConfirmButton:!1,timer:1500})})).then((function(){return a.props.dispatch(Object(v.d)())})).then((function(){return a.props.dispatch(Object(S.a)("Provinsi"))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid",style:{color:"black"}},s.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")),s.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h4",{className:"card-title mb-3",style:{fontSize:30}},"Data Area"),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{name:"simpan",id:"simpan",type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#primary-header-modal"},"Tambah Data Area"))),this.props.areaList?s.a.createElement(c.a,{data:this.props.areaList,columns:this.state.columns,defaultSorted:T,namaKey:"kodeArea"}):s.a.createElement("div",null,this.props.error?s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{src:E.a,style:{width:"30%"},alt:"NOT RESPOND"}),s.a.createElement("br",null),s.a.createElement("h4",null,"Request API Gagal, Silahkan Refresh")):s.a.createElement(w.a,{width:1100,height:180})))))),s.a.createElement("div",{id:"primary-header-modal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},s.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Tambah Data Area"),s.a.createElement("button",{id:"dismiss_modal",name:"dismiss_modal",type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement(m.a,{nama:"Nama Area",kode:"Kode Area",kode_ext:"Nama Kota",updateStatus:this.updateStatus,onSubmit:function(a){return e.handleSubmit(a)},from:"area"})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal"},"Close"))))),s.a.createElement("div",{id:"editModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},s.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Edit Data Area"),s.a.createElement("button",{id:"dismiss_modal1",name:"dismiss_modal1",type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement(D,{nama:"Nama Area",kode:"Kode Area",kode_ext:"Nama Kota",onSubmit:function(a){return e.handleEdit(a)},from:"area"})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal"},"Close"))))))}}]),t}(l.Component);a.default=Object(b.b)((function(e){return{areaList:e.provinsi.area,alert:e.provinsi.alert,error:e.provinsi.error}}),null)(B)}}]);
//# sourceMappingURL=130.12462381.chunk.js.map