(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[89],{1221:function(a,t,e){"use strict";e.r(t);var n=e(47),r=e(35),o=e(36),i=e(38),s=e(37),l=e(0),c=e.n(l),u=e(478),m=e.n(u),d=e(282),p=e(10),g=e.n(p),k=e(18),h=e(182),b=e(69),f=e(538),E=e(11),B=e(68),A=e.n(B),S=e(186),N=e(56),v=e(512),T=e(467),F=e(468),O=e(3),y=e(190),j=e(22),C=function(a){var t={};return a.tanggal||(t.tanggal="Tidak Boleh kosong"),a.noMutasi||(t.noMutasi="Tidak Boleh kosong"),a.bonMutasi||(t.bonMutasi="Tidak Boleh kosong"),a.kategori||(t.kategori="Tidak Boleh kosong"),a.lokasi||(t.lokasi="Tidak Boleh kosong"),t},x=function(a){Object(i.a)(e,a);var t=Object(s.a)(e);function e(a){var n;return Object(r.a)(this,e),(n=t.call(this,a)).state={lokasi:!1,listKategori:[{nama:"AMBIL BARANG"},{nama:"KEMBALI STOK"},{nama:"KOREKSI STOK"},{nama:"MUTASI BAHAN"},{nama:"PENGAMBILAN SALES"},{nama:"PINDAH"},{nama:"PINDAH GUDANG REPARASI"},{nama:"RETURN SALES"},{nama:"SALAH INPUT"},{nama:"SALAH PINDAH"},{nama:"STOK AWAL"},{nama:"TAMBAH BARANG"}]},n}return Object(o.a)(e,[{key:"componentDidMount",value:function(){var a=this;Object(O.b)("storages2?tipeData=LOKASI").then((function(t){return a.setState({lokasi:t.data})})).catch((function(a){return console.log(a)})),this.props.change("tanggal",y.b),this.props.change("noMutasi",localStorage.getItem("noFaktur"))}},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 form-group"},c.a.createElement(T.a,{component:j.a,normalize:function(a){return a&&a.toUpperCase()},label:"Nomor Mutasi",type:"text",name:"noMutasi",className:"form-control",readOnly:!0})),c.a.createElement("div",{className:"col-md-4 form-group"},c.a.createElement(T.a,{type:"date",label:"Tanggal",id:"tanggal",name:"tanggal",component:j.a})),c.a.createElement("div",{className:"col-md-4 form-group"},c.a.createElement(T.a,{component:j.a,normalize:function(a){return a&&a.toUpperCase()},label:"Bon Mutasi",type:"text",id:"bonMutasi",name:"bonMutasi"})),c.a.createElement("div",{className:"col-md-4 form-group"},c.a.createElement(T.a,{id:"kategori",label:"Kategori",name:"kategori",component:j.b,normalize:function(a){return a&&a.toUpperCase()},options:this.state.listKategori.map((function(a){return{value:a.nama,name:a.nama}}))})),c.a.createElement("div",{className:"col-md-4 form-group"},c.a.createElement(T.a,{component:j.a,normalize:function(a){return a&&a.toUpperCase()},label:"Keterangan",type:"text",id:"keterangan",name:"keterangan"})),c.a.createElement("div",{className:"col-md-4 form-group"},this.state.lokasi?c.a.createElement(T.a,{label:"Lokasi",component:j.b,normalize:function(a){return a&&a.toUpperCase()},type:"text",id:"lokasi",name:"lokasi",onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},options:this.state.lokasi.map((function(a){return{value:a.kodeLokasi,name:a.namaLokasi}}))}):c.a.createElement(y.a,{label:"Lokasi"})),c.a.createElement("div",{className:"col-lg-4 col-md-4 mb-3"},c.a.createElement("div",{className:"text-left"},c.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend,type:"button",onClick:this.props.handleSubmit},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"SIMPAN",c.a.createElement("i",{className:"fa fa-paper-plane ml-3"}))))))}}]),e}(l.Component);x=Object(F.a)({form:"HeadMutasiBarang",enableReinitialize:!0,validate:C})(x);var D=Object(k.b)()(x),L=e(19),M=e.n(L),I=e(46),K=e(184),P=Object(l.lazy)((function(){return Promise.all([e.e(4),e.e(79)]).then(e.bind(null,1250))})),U=Object(l.lazy)((function(){return Promise.all([e.e(2),e.e(5)]).then(e.bind(null,506))})),R={renderer:function(a){return c.a.createElement("div",null,c.a.createElement("p",null,"Tujuan"),c.a.createElement("p",null,"Kode Tujuan : ".concat(a.kodeJenis02," | Keterangan : ").concat(a.keteranganTujuan," | Kat Harga : ").concat(a.kadarTransaksi02," | Kadar : ").concat(a.kadarCetak02," | Pkg(Gr): ").concat(a.pkg02)),c.a.createElement("p",null,"Bruto(Gr) : ".concat(a.bruto02," | Harga Tujuan : ").concat(a.kadarTransaksi02," | Netto : ").concat(a.netto02)))}},J=Object({NODE_ENV:"production",PUBLIC_URL:"/ayugold.com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"http://192.168.1.27:7001/api/v1/",REACT_APP_BACKEND_URLLOCAL:"https://147.139.193.169:3759/api/v1/",REACT_APP_BACKEND_URL_WEB:"https://ayu-grosir-api.herokuapp.com/api/v1/"}).REACT_APP_BACKEND_URL_NON_MASTER,_=function(a){Object(i.a)(e,a);var t=Object(s.a)(e);function e(a){var o;return Object(r.a)(this,e),(o=t.call(this,a)).onChange=function(a){return function(t){o.setState(Object(n.a)({},a,t.target.value))}},o.state={lokasi:[],kodeJenis:"",kodeJenisTujuan:"",noMutasi:"",kodeLokasi:"",tanggal:"",keterangan:"",kategori:"",noBon:"",columns:[{dataField:"Lihat Detail",isDummyField:!0,text:"Lihat Detail",formatter:function(a){return c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-chevron-down"}))}},{dataField:"kodeJenis01",text:"Kode Barang"},{dataField:"keterangan",text:"Keterangan"},{dataField:"kadarTransaksi01",text:"Kat Harga"},{dataField:"kadarCetak01",text:"Kadar"},{dataField:"pkg01",text:"Pkg (Gr)"},{dataField:"bruto01",text:"Bruto (Gr)"},{dataField:"kadarTransaksi01",text:"Harga"},{dataField:"netto01",text:"Netto (Gr)"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(a,t,e){return c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-danger",onClick:function(){return Object(v.a)("mutasiBarang",e,o.props.dispatch,Object(d.b)())}},c.a.createElement(f.a,{id:"hapus",type:"dark",effect:"solid"},c.a.createElement("span",null,"Hapus")),c.a.createElement("i",{className:"fa fa-trash"})),c.a.createElement("br",null))}}]},o}return Object(o.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(d.b)()),this.props.dispatch(Object(b.b)()),this.props.dispatch(Object(E.l)("mutasiBarang")),this.props.dispatch(Object(E.o)("mutasiBarang")),this.props.dispatch(Object(E.q)("mutasiBarang")),this.props.dispatch(Object(E.r)("mutasiBarang")),this.props.dispatch(Object(E.m)("mutasiBarang"))}},{key:"handleSubmit",value:function(a){var t=this,e=(a.kodeBarang?a.kodeBarang:"DEFAULT | DEFAULT | DEFAULT | DEFAULT ").split("|");this.setState({kodeJenis:e[0]});var n=(a.kodeBarangTujuan?a.kodeBarangTujuan:"DEFAULT | DEFAULT | DEFAULT | DEFAULT ").split("|");this.setState({kodeJenisTujuan:n[0]});var r=JSON.parse(localStorage.getItem("mutasiBarang"))||[],o={noFaktur:this.props.noFaktur.toUpperCase(),bruto01:parseFloat(a.bruto).toFixed(3),bruto02:parseFloat(a.brutoTujuan).toFixed(3),kadarCetak01:parseFloat(a.kadar).toFixed(3),kadarCetak02:parseFloat(a.kadarTujuan).toFixed(3),kadarTransaksi01:parseFloat(a.kadarTransaksi).toFixed(3),kadarTransaksi02:parseFloat(a.kadarTransaksiTujuan).toFixed(3),keterangan:a.keterangan,keteranganTujuan:a.keteranganTujuan,netto01:parseFloat(a.netto).toFixed(3),netto02:parseFloat(a.nettoTujuan).toFixed(3),pkg01:parseFloat(a.pkg).toFixed(3),pkg02:parseFloat(a.pkgTujuan).toFixed(3),qty01:1,qty02:1,gross01:(parseFloat(a.bruto)+parseFloat(a.pkg)).toFixed(3),gross02:(parseFloat(a.brutoTujuan)+parseFloat(a.pkgTujuan)).toFixed(3),kodeJenis01:e[0].toUpperCase(),kodeJenis02:n[0].toUpperCase(),kodeKategori01:"-",kodeKategori02:"-",k01:0,k02:0,p01:0,p02:0};r.push(o),localStorage.setItem("mutasiBarang",JSON.stringify(r)),g.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){return t.props.dispatch(Object(h.a)("FormMutasiBarang"))})).then((function(){return t.props.dispatch(Object(d.b)())}))}},{key:"submitMutasiBarang",value:function(a){var t=this;if(null===localStorage.getItem("mutasiBarang"))return Object(N.e)("Mohon Tambahkan Barang Yang akan dipindahkan"),!1;var e={tanggal:a.tanggal,noFaktur:this.props.noFaktur,noBon:a.noBon,kategoriTransaksi:a.kategori,keterangan:a.keterangan,kodeLokasi:a.kodeLokasi,tipeFaktur:"-",barangDetailList:JSON.parse(localStorage.getItem("mutasiBarang")),footerItem:{totalBruto:0,totalNetto:0,totalQty:0,totalGross:0,totalK:0,totalP:0,totalpkg:0,totalNettoExt:0,totalRp:0},footerDocument:{inputBy:this.props.username}};console.log(JSON.stringify(e)),this.props.dispatch(Object(E.t)());var n=[];JSON.parse(localStorage.getItem("mutasiBarang")).forEach((function(a,t){var e=[t++,a.kodeJenis01,a.bruto01,a.kadarTransaksi01,a.netto01,a.kodeJenis02,a.bruto02,a.kadarTransaksi02,a.netto02];n.push(e)})),console.log(n);var r=["No","Kode Awal","Bruto","Harga (%)","Netto Awal","Kode Tujuan","Harga (%)","Netto Akhir"];A.a.post(J+"item/dc/mutasibarang",e).then((function(){return g.a.fire({position:"top-end",icon:"success",text:"Transaksi Berhasil",showConfirmButton:!1,timer:1500}).then((function(){return t.props.dispatch(Object(E.k)())})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return t.props.dispatch(Object(h.a)("HeadMutasiBarang"))})).then((function(){return Object(S.a)("Tanggal",a.tanggal,"","","Nomor Bon",a.noBon,"","","ADMIN",a.tanggal,"",r,"MUTASI BARANG",n)})).then((function(){return localStorage.removeItem("mutasiBarang")})).then((function(){return t.props.dispatch(Object(d.b)())})).then((function(){return t.props.dispatch(Object(b.b)())})).then((function(){return t.setState({kodeJenis:"",kodeJenisTujuan:"",noMutasi:"",kodeLokasi:"",tanggal:"",keterangan:"",kategori:"",noBon:""})})).then((function(){return t.forceUpdate()}))})).catch((function(a){return g.a.fire({position:"top-end",icon:"error",text:"Sepertinya ada kendala, silahkan cek koneksi",showConfirmButton:!1,timer:1500}).then((function(){return console.log(a)})).then((function(){return t.props.dispatch(Object(E.k)())}))})),this.props.dispatch(Object(d.b)())}},{key:"render",value:function(){var a=this;return c.a.createElement("div",{className:"container-fluid",style:{color:"black"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(K.default,{title:"Mutasi Barang"}),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(D,{onSubmit:function(t){return a.submitMutasiBarang(t)},onSend:this.props.onSend,noFaktur:this.props.noFaktur})),c.a.createElement("div",{className:"col-lg-4"}),c.a.createElement("div",{className:"col-lg-4 col-md-4 mb-3"},c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal",disabled:!0},"BARCODE (+)"),c.a.createElement("button",{className:"btn btn-primary ml-2","data-toggle":"modal",disabled:!0},"BARCODE (-)"))),c.a.createElement("div",{className:"col-lg-4 col-md-4 mb-3"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a.props.dispatch(Object(I.j)())}},"TAMBAH BARANG",c.a.createElement("i",{className:"fa fa-plus ml-3"})))),c.a.createElement("div",{className:"col-lg-12"},this.props.listBarang?c.a.createElement(m.a,{keyField:"id",data:this.props.listBarang,columns:this.state.columns,bordered:!0,headerClasses:"header-table",expandRow:R}):c.a.createElement(m.a,{keyField:"id",data:[],columns:this.state.columns,bordered:!0,headerClasses:"header-table",expandRow:R,noDataIndication:"Tidak Ada Data"}))))))),c.a.createElement(U,{content:c.a.createElement(l.Suspense,{fallback:c.a.createElement(M.a,{width:"100%",height:50,count:5})},c.a.createElement(P,{onSubmit:function(t){return a.handleSubmit(t)}})),title:"Tambah Data Mutasi Barang"}))}}]),e}(l.Component);t.default=Object(k.b)((function(a){return{listBarang:a.provinsi.mutasiBarang,noFaktur:a.provinsi.noFaktur,username:a.provinsi.username,sumBruto:a.perhitungan.sumBruto,sumNetto:a.perhitungan.sumBruto,sumPkg:a.perhitungan.sumPkg,sumQty:a.perhitungan.sumQty,sumGross:a.perhitungan.sumGross,onSend:a.provinsi.onSend}}),null)(_)},182:function(a,t,e){"use strict";e.d(t,"a",(function(){return r}));var n=e(20),r=(n.a.arrayInsert,n.a.arrayMove,n.a.arrayPop,n.a.arrayPush,n.a.arrayRemove,n.a.arrayRemoveAll,n.a.arrayShift,n.a.arraySplice,n.a.arraySwap,n.a.arrayUnshift,n.a.autofill,n.a.blur,n.a.change,n.a.clearAsyncError,n.a.clearFields,n.a.clearSubmit,n.a.clearSubmitErrors,n.a.destroy,n.a.focus,n.a.initialize,n.a.registerField,n.a.reset);n.a.resetSection,n.a.setSubmitFailed,n.a.setSubmitSucceeded,n.a.startAsyncValidation,n.a.startSubmit,n.a.stopAsyncValidation,n.a.stopSubmit,n.a.submit,n.a.touch,n.a.unregisterField,n.a.untouch,n.a.updateSyncWarnings,n.a.updateSyncErrors},512:function(a,t,e){"use strict";e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return i})),e.d(t,"b",(function(){return s}));var n=e(10),r=e.n(n),o=function(a){a.forEach((function(a){localStorage.removeItem(a)}))},i=function(a,t,e,n){r.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){if(o.isConfirmed){var i=JSON.parse(localStorage.getItem(a))||[];i.splice(t,1),localStorage.setItem(a,JSON.stringify(i)),r.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return e(n)}))}}))},s=function(a,t,e,n){return new Promise((function(o,i){r.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(i){if(i.isConfirmed){var s=JSON.parse(localStorage.getItem(a))||[];s.splice(t,1),localStorage.setItem(a,JSON.stringify(s)),r.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return e(n)})).then(o("Berhasil")).catch("Gagal")}}))}))}}}]);
//# sourceMappingURL=89.6c149726.chunk.js.map