(this.webpackJsonpayu=this.webpackJsonpayu||[]).push([[131],{1103:function(e,t,a){"use strict";a.r(t);var n=a(39),o=a(40),r=a(42),i=a(41),l=a(0),s=a.n(l),m=a(454),c=a(377),d=a(372),u=a.n(d),p=a(373),h=a.n(p),b=a(75),v=a(19),f=a(306),E=a.n(f),N=a(3),k=a.n(N),y=a(43),K=a.n(y),g=a(298),x=a(312),A=a(455),C=function(e){var t=e.input,a=e.label,n=e.type,o=e.readOnly,r=e.meta,i=r.touched,l=r.error,m=r.warning;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},a),s.a.createElement("input",Object.assign({},t,{type:n,className:"form-control",readOnly:o})),i&&(l&&s.a.createElement("p",{className:"invalid-feedback"},l)||m&&s.a.createElement("p",null,m)))},O=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={response:"",status:"AKTIF",listProvinsi:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.a.get("http://157.245.145.87:9011/master/provinces").then((function(t){return e.setState({listProvinsi:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.kode,t=this.props.nama;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2"},s.a.createElement(g.a,{name:e.replace(/\s/g,""),type:"text",normalize:function(e){return e&&e.toUpperCase()},component:C,readOnly:!0,label:this.props.kode})),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},this.props.kode_ext),s.a.createElement(g.a,{component:"select",name:"kota"===this.props.from?"kodeProvinsi":"kodeKota",type:"text",normalize:function(e){return e&&e.toUpperCase()},className:"form-control"},s.a.createElement("option",{value:"DEFAULT"},"SILAHKAN PILIH"),this.state.listProvinsi.map((function(e){return s.a.createElement("option",{value:e.kodeProvinsi,key:e.kodeProvinsi},e.namaProvinsi)}))))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(g.a,{name:t.replace(/\s/g,""),type:"text",normalize:function(e){return e&&e.toUpperCase()},component:C,label:this.props.nama})),s.a.createElement("div",{className:"col-md-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},"Status"),s.a.createElement(g.a,{component:"select",name:"status",type:"text",normalize:function(e){return e&&e.toUpperCase()},className:"form-control"},s.a.createElement("option",{value:"AKTIF",key:"AKTIF"},"Aktif"),s.a.createElement("option",{value:"NON-AKTIF",key:"NON-AKTIF"},"Non Aktif")))),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{type:"submit",id:"simpan",className:"btn btn-primary",disabled:this.props.submitting},"Submit"))))))}}]),a}(l.Component);O=Object(x.a)({form:"KotaEdit",validate:A.a,enableReinitialize:!0})(O);var D=Object(v.b)((function(e){return{initialValues:{status:e.provinsi.editKota.status,KodeKota:e.provinsi.editKota.kodeKota,NamaKota:e.provinsi.editKota.namaKota,kodeProvinsi:e.provinsi.editKota.kodeProvinsi}}}),null)(O),P=a(294),I=a(88),w=a.n(I);function j(e,t){return"AKTIF"===t.statusAktif?s.a.createElement("div",null,s.a.createElement("img",{src:u.a,style:{width:50,height:50},alt:"ACTIVE"})):s.a.createElement("div",null,s.a.createElement("img",{src:h.a,alt:"NON ACTIVE",style:{width:50,height:50}}))}var F="http://157.245.145.87:9011/master/";var S=[{dataField:"kodeKota",order:"asc"}],T=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={provinsi:[],provinsi_array:[],response:"",columns:[{dataField:"kodeKota",text:"Kode Kota",sort:!0,headerStyle:function(){return{width:"15%"}}},{dataField:"namaKota",text:"Nama Kota",sort:!0},{dataField:"kodeProvinsi",text:"Provinsi",sort:!0},{dataField:"statusAktif",text:"Status",sort:!0,formatter:j,headerStyle:function(){return{width:"10%"}}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t){return s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return e=o.props.dispatch,a=t.kodeKota,void K.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&k.a.delete(F+"city",{data:{kodeKota:a}}).then((function(e){return K.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Dihapus!",showConfirmButton:!1,timer:1500})})).catch((function(e){return K.a.fire({position:"top-end",icon:"error",text:"Data Gagal Dihapus!",showConfirmButton:!1,timer:1500})})).then((function(){return e(Object(b.d)())}))}));var e,a}},s.a.createElement("i",{className:"fa fa-trash mr-1"}),"HAPUS"),s.a.createElement("button",{className:"btn btn-warning mr-2","data-toggle":"modal","data-target":"#editModal",onClick:function(){return o.props.dispatch(Object(b.c)(t.kodeKota,t.namaKota,t.kodeProvinsi,t.statusAktif))}},s.a.createElement("i",{className:"fa fa-edit mr-1"}),"EDIT"))}}]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(b.d)())}},{key:"handlerSubmit",value:function(e){var t=this,a={statusAktif:e.status?e.status:"AKTIF",namaKota:e.NamaKota,kodeKota:e.KodeKota,kodeProvinsi:e.kodeProvinsi};console.log(a),k.a.post(F+"city",a).then((function(e){return K.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Disimpan!",showConfirmButton:!1,timer:1500})}),document.getElementById("dismiss_modal").click()).catch((function(e){return K.a.fire({position:"top-end",icon:"error",text:"Data Gagal Disimpan!",showConfirmButton:!1,timer:1500})})).then((function(){return t.props.dispatch(Object(b.d)())})).then((function(){return t.props.dispatch(Object(P.a)("Provinsi"))}))}},{key:"handlerEdit",value:function(e){var t=this,a={statusAktif:e.status?e.status:"AKTIF",namaKota:e.NamaKota,kodeKota:e.KodeKota,kodeProvinsi:e.kodeProvinsi};console.log(a),k.a.put(F+"city",a).then((function(e){return K.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Dirubah!",showConfirmButton:!1,timer:1500})}),document.getElementById("dismiss_modal1").click()).catch((function(e){return K.a.fire({position:"top-end",icon:"error",text:"Data Gagal Dirubah!",showConfirmButton:!1,timer:1500})})).then((function(){return t.props.dispatch(Object(b.d)())}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid",style:{color:"black"}},s.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")),s.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h4",{className:"card-title mb-3",style:{fontSize:30}},"Data Kota"),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{name:"simpan",id:"simpan",type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#primary-header-modal"},"Tambah Data Kota"))),this.props.KotaList?s.a.createElement(c.a,{data:this.props.KotaList,columns:this.state.columns,defaultSorted:S,namaKey:"kodeKota"}):s.a.createElement("div",null,this.props.error?s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{src:E.a,style:{width:"30%"},alt:"ACTIVE"}),s.a.createElement("br",null),s.a.createElement("h4",null,"Request API Gagal, Silahkan Refresh")):s.a.createElement(w.a,{width:1100,height:180})))))),s.a.createElement("div",{id:"primary-header-modal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},s.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Tambah Data Kota"),s.a.createElement("button",{id:"dismiss_modal",name:"dismiss_modal",type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement(m.a,{nama:"Nama Kota",kode:"Kode Kota",kode_ext:"Nama Provinsi",onSubmit:function(t){return e.handlerSubmit(t)},from:"kota"})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal",id:"close_modal"},"Close"))))),s.a.createElement("div",{id:"editModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},s.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Edit Data Kota"),s.a.createElement("button",{id:"dismiss_modal1",name:"dismiss_modal1",type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement(D,{nama:"Nama Kota",kode:"Kode Kota",kode_ext:"Nama Provinsi",onSubmit:function(t){return e.handlerEdit(t)},from:"kota"})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal",id:"close_modal"},"Close"))))))}}]),a}(l.Component);t.default=Object(v.b)((function(e){return{KotaList:e.provinsi.kota,alert:e.provinsi.alert,error:e.provinsi.error}}),null)(T)}}]);
//# sourceMappingURL=131.92526265.chunk.js.map