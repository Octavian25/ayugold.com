{"version":3,"sources":["Transaksi/RekapBonCustomer.jsx","Alert.jsx","FindIndex.js"],"names":["SearchBar","Search","RekapBonCustomer","props","disabledButton","e","target","disabled","onChange","input","setState","value","nextStep","step","state","step2","step1","dispatch","getListRekapBonSelected","prevStep","step3","listCustomer","columns","dataField","text","footerClasses","csvExport","formatter","rowContent","row","className","onClick","addRekapBon","noFaktur","tanggal","bruto","netto","rp","namaAktor","columns2","Axios","get","server","then","res","data","catch","gagal","this","getListRekapBon","getUUID","filter","JSON","parse","localStorage","getItem","sorted","sort","a","b","Date","isi","fakturList","footerDocument","inputBy","username","statusValid","toISOString","slice","noBon","tipeTransaksi","keterangan","noFakturPilih","post","serverNonMaster","berhasil","removeItem","steps","title","activeStep","htmlFor","type","name","options","map","obj","kodeCustomer","namaCustomer","namaToko","search","placeholder","onSubmit","listDataRekapBon","keyField","searchProps","style","margin","top","baseProps","striped","hover","condensed","bordered","headerClasses","pagination","paginationFactory","width","height","setGabung","Component","connect","provinsi","warning","pesan","Swal","fire","position","icon","timer","showConfirmButton","checkReplikasiValidasi","lokasi","findIndex","item","i","addFaktur","supplier","bonRp","titipRp","titipGr","tampung","array","editBy","push","setItem","stringify","console","log","addCloseFaktur","hasil","deleteFaktur","splice"],"mappings":"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","file":"static/js/86.858a5fde.chunk.js","sourcesContent":["import Axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport SelectSearch from \"react-select-search\";\r\nimport {\r\n  getListRekapBon,\r\n  getListRekapBonSelected,\r\n} from \"../actions/rekapBonAction\";\r\nimport { berhasil, gagal } from \"../Alert\";\r\nimport { connect } from \"react-redux\";\r\nimport { addRekapBon } from \"../FindIndex\";\r\nimport Stepper from \"react-stepper-horizontal/lib/Stepper\";\r\nimport { getUUID } from \"../actions/fakturAction\";\r\n\r\nconst server = process.env.REACT_APP_BACKEND_URL;\r\nconst serverNonMaster = process.env.REACT_APP_BACKEND_URL_NON_MASTER;\r\n\r\nconst maptoState = (state) => {\r\n  return {\r\n    listDataRekapBon: state.provinsi.listDataRekapBon,\r\n    username: state.provinsi.username,\r\n    noFaktur: state.provinsi.noFaktur,\r\n  };\r\n};\r\nconst { SearchBar } = Search;\r\nclass RekapBonCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      step: 0,\r\n      step1: \"row\",\r\n      step2: \"row d-none\",\r\n      step3: \"row d-none\",\r\n      listCustomer: [],\r\n      columns: [\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"noBon\",\r\n          text: \"Nomor Bon\",\r\n        },\r\n        {\r\n          dataField: \"namaAktor\",\r\n          text: \"Nama Aktor\",\r\n        },\r\n        {\r\n          dataField: \"bruto\",\r\n          text: \"Bruto(Gr)\",\r\n        },\r\n        {\r\n          dataField: \"netto\",\r\n          text: \"Murni(Gr)\",\r\n          footerClasses: \"sum-netto-terima-supplier\",\r\n        },\r\n        {\r\n          dataField: \"rp\",\r\n          text: \"Ongkos(RP)\",\r\n        },\r\n        {\r\n          dataField: \"Aksi\",\r\n          text: \"Aksi\",\r\n          csvExport: false,\r\n          formatter: (rowContent, row) => {\r\n            return (\r\n              <button\r\n                className=\"btn btn-warning \"\r\n                onClick={(e) =>\r\n                  addRekapBon(\r\n                    row.noFaktur,\r\n                    row.tanggal,\r\n                    row.bruto,\r\n                    row.netto,\r\n                    row.rp,\r\n                    row.namaAktor,\r\n                    this.disabledButton(e)\r\n                  )\r\n                }\r\n              >\r\n                {\" \"}\r\n                <i className=\"fa fa-check-circle mr-3\"></i>Pilih\r\n              </button>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      columns2: [\r\n        {\r\n          dataField: \"tanggal\",\r\n          text: \"Tanggal\",\r\n        },\r\n        {\r\n          dataField: \"noBon\",\r\n          text: \"Nomor Bon\",\r\n        },\r\n        {\r\n          dataField: \"namaAktor\",\r\n          text: \"Nama Aktor\",\r\n        },\r\n        {\r\n          dataField: \"bruto\",\r\n          text: \"Bruto(Gr)\",\r\n        },\r\n        {\r\n          dataField: \"netto\",\r\n          text: \"Murni(Gr)\",\r\n          footerClasses: \"sum-netto-terima-supplier\",\r\n        },\r\n        {\r\n          dataField: \"rp\",\r\n          text: \"Ongkos(RP)\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  disabledButton = (e) => {\r\n    e.target.disabled = true;\r\n  };\r\n  onChange = (input) => (e) => {\r\n    this.setState({\r\n      [input]: e.target.value,\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    Axios.get(server + \"customers\")\r\n      .then((res) =>\r\n        this.setState({\r\n          listCustomer: res.data,\r\n        })\r\n      )\r\n      .catch(() =>\r\n        gagal(\"Mohon periksa koneksi anda, gagal komunikasi dengan server\")\r\n      );\r\n    this.props.dispatch(getListRekapBon(\"2020-12-01\", \"2022-12-30\"));\r\n    this.props.dispatch(getUUID());\r\n  }\r\n  onSubmit(data, input) {\r\n    this.setState({\r\n      [input]: data,\r\n    });\r\n  }\r\n  nextStep = () => {\r\n    const { step } = this.state;\r\n    if (step === 0) {\r\n      this.setState({ step: step + 1, step2: \"row\", step1: \"row d-none\" });\r\n    }\r\n    this.props.dispatch(getListRekapBonSelected());\r\n  };\r\n  prevStep = () => {\r\n    const { step } = this.state;\r\n    if (step === 1) {\r\n      this.setState({ step: step - 1, step2: \"row d-none\", step1: \"row\" });\r\n    }\r\n  };\r\n  setGabung(data) {\r\n    var filter = JSON.parse(localStorage.getItem(\"FakturRekapBon\")) || [];\r\n    var sorted = filter.sort(function (a, b) {\r\n      return new Date(a.tanggal) - new Date(b.tanggal);\r\n    });\r\n    var isi = {\r\n      fakturList: filter,\r\n      footerDocument: {\r\n        inputBy: this.props.username,\r\n        statusValid: \"VALID\",\r\n      },\r\n      noFaktur: this.props.noFaktur,\r\n      tanggal: new Date().toISOString().slice(0, 10),\r\n      noBon: this.props.noFaktur,\r\n      tipeTransaksi: \"REKAP-BON\",\r\n      keterangan: sorted[0].noFakturPilih,\r\n    };\r\n    Axios.post(serverNonMaster + \"cst/dc/pjl\", isi)\r\n      .then(() =>\r\n        berhasil(\"Penggabungan berhasil\", this.props.dispatch(getUUID()))\r\n      )\r\n      .then(() => localStorage.removeItem(\"FakturRekapBon\"))\r\n      .then(() => this.props.dispatch(getUUID()))\r\n      .then(() => this.prevStep())\r\n      .catch(() => gagal(\"Penggabungan gagal, Mohon periksa koneksi anda\"));\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"col-lg-12 col-md-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <div className=\"row m-2\">\r\n                <div className=\"col-lg-12 mb-3\">\r\n                  <h2>Rekap Bon Customer - Penjualan</h2>\r\n                </div>\r\n                <div className=\"col-lg-12 col-md-12 mb-5\">\r\n                  <Stepper\r\n                    steps={[\r\n                      { title: \"Pilih Data\" },\r\n                      { title: \"Rekap Data\" },\r\n                      // { title: \"Data Rekening\" },\r\n                    ]}\r\n                    activeStep={this.state.step}\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-12\">\r\n                  <div className={this.state.step1}>\r\n                    <div className=\"col-lg-4 col-md-4\">\r\n                      <label htmlFor=\"\">Tanggal</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        name=\"tanggal\"\r\n                        className=\"form-control\"\r\n                        onChange={this.onChange(\"tanggal\")}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-lg-4 col-md-4\">\r\n                      <label htmlFor=\"\">Nama Toko</label>\r\n                      <SelectSearch\r\n                        options={this.state.listCustomer.map((obj) => {\r\n                          var payload = {\r\n                            value:\r\n                              obj.kodeCustomer +\r\n                              \"|\" +\r\n                              obj.namaCustomer +\r\n                              \"|\" +\r\n                              obj.namaToko,\r\n                            name: obj.namaToko,\r\n                          };\r\n                          return payload;\r\n                        })}\r\n                        search\r\n                        placeholder=\"Silahkan Pilih\"\r\n                        onChange={(data) => this.onSubmit(data, \"lokasi\")}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-4 col-lg-4\">\r\n                      <label htmlFor=\"\">Customer</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"customer\"\r\n                        className=\"form-control\"\r\n                        onChange={this.onChange(\"customer\")}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-lg-12 mt-5\">\r\n                      {this.props.listDataRekapBon ? (\r\n                        <ToolkitProvider\r\n                          keyField=\"id\"\r\n                          data={this.props.listDataRekapBon}\r\n                          columns={this.state.columns}\r\n                          search\r\n                        >\r\n                          {(props) => (\r\n                            <div className=\"form-group\">\r\n                              <div className=\"text-right\">\r\n                                <SearchBar\r\n                                  {...props.searchProps}\r\n                                  className=\"form-control\"\r\n                                  placeholder=\"Pencarian\"\r\n                                  style={{ margin: 0, top: \"50%\" }}\r\n                                />\r\n                              </div>\r\n                              <BootstrapTable\r\n                                {...props.baseProps}\r\n                                striped\r\n                                hover\r\n                                condensed\r\n                                bordered={true}\r\n                                headerClasses=\"header-table\"\r\n                                pagination={paginationFactory()}\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </ToolkitProvider>\r\n                      ) : (\r\n                        <Skeleton width={\"100%\"} height={100} />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"col-lg-12\">\r\n                      <div className=\"text-right\">\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          onClick={() => this.nextStep()}\r\n                        >\r\n                          Next\r\n                          <i className=\"fa fa-chevron-right ml-3\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className={this.state.step2}>\r\n                    <div className=\"col-lg-12 mt-5\">\r\n                      {this.props.listDataRekapBon ? (\r\n                        <ToolkitProvider\r\n                          keyField=\"id\"\r\n                          data={\r\n                            JSON.parse(\r\n                              localStorage.getItem(\"FakturRekapBon\")\r\n                            ) || []\r\n                          }\r\n                          columns={this.state.columns}\r\n                          search\r\n                        >\r\n                          {(props) => (\r\n                            <div className=\"form-group\">\r\n                              <div className=\"text-right\">\r\n                                <SearchBar\r\n                                  {...props.searchProps}\r\n                                  className=\"form-control\"\r\n                                  placeholder=\"Pencarian\"\r\n                                  style={{ margin: 0, top: \"50%\" }}\r\n                                />\r\n                              </div>\r\n                              <BootstrapTable\r\n                                {...props.baseProps}\r\n                                striped\r\n                                hover\r\n                                condensed\r\n                                bordered={true}\r\n                                headerClasses=\"header-table\"\r\n                                pagination={paginationFactory()}\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </ToolkitProvider>\r\n                      ) : (\r\n                        <Skeleton width={\"100%\"} height={100} />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"col-lg-12\">\r\n                      <div className=\"text-right\">\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          onClick={() => this.setGabung()}\r\n                        >\r\n                          Gabung Bon\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptoState, null)(RekapBonCustomer);\r\n","import Swal from \"sweetalert2\";\r\n\r\nexport const warning = (pesan) => {\r\n  Swal.fire({\r\n    position: \"top-right\",\r\n    icon: \"warning\",\r\n    text: pesan,\r\n    timer: 2500,\r\n    showConfirmButton: false,\r\n  });\r\n};\r\n\r\nexport const berhasil = (pesan) => {\r\n  Swal.fire({\r\n    position: \"top-right\",\r\n    icon: \"success\",\r\n    text: pesan,\r\n    timer: 2500,\r\n    showConfirmButton: false,\r\n  })\r\n};\r\n\r\nexport const gagal = (pesan) => {\r\n  Swal.fire({\r\n    position: \"top-right\",\r\n    icon: \"error\",\r\n    text: pesan,\r\n    timer: 2500,\r\n    showConfirmButton: false,\r\n  })\r\n};\r\n","import Swal from \"sweetalert2\";\r\nimport { berhasil } from \"./Alert\";\r\n\r\nexport const checkReplikasiValidasi = (lokasi, data) => {\r\n  var searchData = JSON.parse(localStorage.getItem(lokasi)) || [];\r\n  var index = searchData.findIndex(function (item, i) {\r\n    return item.noFaktur === data;\r\n  });\r\n  return index;\r\n};\r\nexport const checkRekapBon = (lokasi, data) => {\r\n  var searchData = JSON.parse(localStorage.getItem(lokasi)) || [];\r\n  var index = searchData.findIndex(function (item, i) {\r\n    return item.namaAktor === data ? item.namaAktor === data : \"TIDAK ADA\";\r\n  });\r\n  return index;\r\n};\r\n\r\nexport const addFaktur = (\r\n  noFaktur,\r\n  tanggal,\r\n  noBon,\r\n  supplier,\r\n  bruto,\r\n  netto,\r\n  bonRp,\r\n  titipRp,\r\n  titipGr,\r\n  keterangan,\r\n  e\r\n) => {\r\n  var tampung = JSON.parse(localStorage.getItem(\"FakturTerpilih\")) || [];\r\n  var hasil = checkReplikasiValidasi(\"FakturTerpilih\", noFaktur);\r\n  if (hasil === -1) {\r\n    var array = {\r\n      tanggal: tanggal,\r\n      noBon: noBon,\r\n      supplier: supplier,\r\n      bruto: bruto,\r\n      netto: netto,\r\n      bonRp: bonRp,\r\n      titipRp: titipRp,\r\n      titipGr: titipGr,\r\n      keterangan: keterangan,\r\n      noFaktur: noFaktur,\r\n      footerDocument: {\r\n        editBy: \"Nagatech\",\r\n        statusValid: \"VALID\",\r\n      },\r\n    };\r\n    tampung.push(array);\r\n    localStorage.setItem(\"FakturTerpilih\", JSON.stringify(tampung));\r\n    console.log(\"BERHASIL TAMBAHKAN : \" + noFaktur);\r\n    berhasil(\"Berhasil Ditambahkan\");\r\n  } else {\r\n    Swal.fire({\r\n      position: \"top-right\",\r\n      icon: \"warning\",\r\n      text: \"Faktur Sudah Terpilih\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    });\r\n  }\r\n};\r\nexport const addCloseFaktur = (\r\n  noFaktur,\r\n  tanggal,\r\n  noBon,\r\n  supplier,\r\n  bruto,\r\n  netto,\r\n  bonRp,\r\n  titipRp,\r\n  titipGr,\r\n  keterangan,\r\n  e\r\n) => {\r\n  var tampung =\r\n    JSON.parse(localStorage.getItem(\"closeTransaksiPenjualan\")) || [];\r\n  var hasil = checkReplikasiValidasi(\"closeTransaksiPenjualan\", noFaktur);\r\n  console.log(hasil, noFaktur);\r\n  if (hasil === -1) {\r\n    var array = {\r\n      tanggal: tanggal,\r\n      noBon: noBon,\r\n      supplier: supplier,\r\n      bruto: bruto,\r\n      netto: netto,\r\n      bonRp: bonRp,\r\n      titipRp: titipRp,\r\n      titipGr: titipGr,\r\n      keterangan: keterangan,\r\n      noFaktur: noFaktur,\r\n      footerDocument: {\r\n        editBy: \"Nagatech\",\r\n        statusValid: \"CANCEL\",\r\n      },\r\n    };\r\n    tampung.push(array);\r\n    localStorage.setItem(\"closeTransaksiPenjualan\", JSON.stringify(tampung));\r\n    console.log(\"BERHASIL TAMBAHKAN : \" + noFaktur);\r\n    berhasil(\"Berhasil Ditambahkan\");\r\n  } else {\r\n    Swal.fire({\r\n      position: \"top-right\",\r\n      icon: \"warning\",\r\n      text: \"Faktur Sudah Terpilih\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    });\r\n  }\r\n};\r\n\r\nexport const addRekapBon = (noFaktur, tanggal, bruto, netto, rp, namaAktor) => {\r\n  var tampung = JSON.parse(localStorage.getItem(\"FakturRekapBon\")) || [];\r\n  var hasil = checkReplikasiValidasi(\"FakturRekapBon\", noFaktur);\r\n  if (hasil < 1) {\r\n    var hasilAktor = checkRekapBon(\"FakturRekapBon\", namaAktor);\r\n    if (hasilAktor < 1) {\r\n      var array = {\r\n        tanggal: tanggal,\r\n        noFakturPilih: noFaktur,\r\n        namaAktor: namaAktor,\r\n        bruto: bruto,\r\n        netto: netto,\r\n        rp: rp,\r\n      };\r\n      tampung.push(array);\r\n      localStorage.setItem(\"FakturRekapBon\", JSON.stringify(tampung));\r\n      console.log(\"BERHASIL TAMBAHKAN : \" + noFaktur);\r\n      berhasil(\"Berhasil Ditambahkan\");\r\n    } else {\r\n      Swal.fire({\r\n        position: \"top-right\",\r\n        icon: \"warning\",\r\n        text: \"Nama Customer Berbeda\",\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n    }\r\n  } else {\r\n    Swal.fire({\r\n      position: \"top-right\",\r\n      icon: \"warning\",\r\n      text: \"Faktur Sudah Terpilih\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteFaktur = (noFaktur) => {\r\n  var tampung = JSON.parse(localStorage.getItem(\"FakturTerpilih\")) || [];\r\n  var hasil = checkReplikasiValidasi(\"FakturTerpilih\", noFaktur);\r\n  tampung.splice(hasil, 1);\r\n  localStorage.setItem(\"FakturTerpilih\", JSON.stringify(tampung));\r\n  berhasil(\"berhasil dihapus\");\r\n  console.log(\"HASIL TERBARU\", JSON.stringify(tampung));\r\n};\r\n"],"sourceRoot":""}