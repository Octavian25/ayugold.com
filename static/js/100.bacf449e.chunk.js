(this.webpackJsonpAyuGold=this.webpackJsonpAyuGold||[]).push([[100],{1222:function(e,a,t){"use strict";t.r(a);var n=t(15),r=t(16),i=t(18),l=t(17),o=t(0),c=t.n(o),p=t(6),s=t(32),m=t(37),u=t(14),g=t(36),d=t(182),_=t(183),h=t(40),b=t(244),k=t(5),v=t(7),f=t(12),E=t(10),N=function(e){Object(i.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.h)())}},{key:"render",value:function(){var e=this;return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement(g.a,{name:"kode_customer",component:v.b,options:this.props.customer.map((function(e){return{value:e.kode_customer,name:e.nama_customer}})),type:"text",label:"Nama Toko",placeholder:"Masukan Nama Toko",disabled:!0})),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement(g.a,{name:"kode_customer_tujuan",component:v.b,options:this.props.customer.map((function(e){return{value:e.kode_customer,name:e.nama_customer}})),type:"text",label:"Nama Toko Tujuan ",placeholder:"Masukan Nama Toko Tujuan"})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr",component:v.a,type:"text",label:"Piutang GR",placeholder:"Masukan Piutang GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp",component:v.a,type:"text",label:"Piutang RP",placeholder:"Masukan Piutang RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr",component:v.a,type:"text",label:"Titip GR",placeholder:"Masukan Titip GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp",component:v.a,type:"text",label:"Titip RP",placeholder:"Masukan Titip RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr_ambil",component:v.a,type:"number",label:"Ambil Piutang GR",placeholder:"Masukan Piutang GR",onChange:function(){return e.props.change("piutang_gr_akhir",e.props.piutang_gr_akhir)},onBlur:function(){return e.props.change("piutang_gr_akhir",e.props.piutang_gr_akhir)}})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp_ambil",component:v.a,type:"number",label:"Ambil Piutang RP",placeholder:"Masukan Piutang RP",onChange:function(){return e.props.change("piutang_rp_akhir",e.props.piutang_rp_akhir)},onBlur:function(){return e.props.change("piutang_rp_akhir",e.props.piutang_rp_akhir)}})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr_ambil",component:v.a,type:"number",label:"Ambil Titip GR",placeholder:"Masukan Titip GR",onChange:function(){return e.props.change("titip_gr_akhir",e.props.titip_gr_akhir)},onBlur:function(){return e.props.change("titip_gr_akhir",e.props.titip_gr_akhir)}})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp_ambil",component:v.a,type:"number",label:"Ambil Titip RP",placeholder:"Masukan Titip RP",onChange:function(){return e.props.change("titip_rp_akhir",e.props.titip_gr_akhir)},onBlur:function(){return e.props.change("titip_rp_akhir",e.props.titip_gr_akhir)}})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-11"},c.a.createElement("hr",null)),c.a.createElement("div",{className:"col-lg-1"},c.a.createElement("i",{className:"fa fa-minus"})))),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr_akhir",component:v.a,type:"text",label:"Piutang GR",placeholder:"Masukan Piutang GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp_akhir",component:v.a,type:"text",label:"Piutang RP",placeholder:"Masukan Piutang RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr_akhir",component:v.a,type:"text",label:"Titip GR",placeholder:"Masukan Titip GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp_akhir",component:v.a,type:"text",label:"Titip RP",placeholder:"Masukan Titip RP",readOnly:!0}))),c.a.createElement("div",{className:"col-lg-12 col-md-12 mt-2"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Transfer Balance"))))}}]),t}(o.Component);N=Object(d.a)({form:"TransferBalance",enableReinitialize:!0})(N);var y=Object(_.a)("TransferBalance"),O=Object(u.b)((function(e){var a=y(e,"piutang_gr","piutang_rp","titip_gr","titip_rp","piutang_gr_ambil","piutang_rp_ambil","titip_gr_ambil","titip_rp_ambil"),t=a.piutang_gr,n=a.piutang_rp,r=a.titip_gr,i=a.titip_rp,l=a.piutang_gr_ambil,o=a.piutang_rp_ambil,c=a.titip_gr_ambil,p=a.titip_rp_ambil;return{customer:e.provinsi.customer,titip_rp_akhir:parseFloat(i)-parseFloat(p||0),titip_gr_akhir:parseFloat(r)-parseFloat(c||0),piutang_rp_akhir:parseFloat(n)-parseFloat(o||0),piutang_gr_akhir:parseFloat(t)-parseFloat(l||0),initialValues:{piutang_gr:e.provinsi.listPiutangCustomer.piutang_gr,piutang_rp:e.provinsi.listPiutangCustomer.piutang_rp,titip_gr:e.provinsi.listPiutangCustomer.titip_gr,titip_rp:e.provinsi.listPiutangCustomer.titip_rp,kode_customer:e.provinsi.listPiutangCustomer.kode_customer,piutang_gr_ambil:0,piutang_rp_ambil:0,titip_gr_ambil:0,titip_rp_ambil:0}}}))(N),j=t(254),P=t(45),T=t(30),R=t(19),x=function(e){var a=e.input,t=e.label,n=e.type,r=e.limit,i=e.readOnly,l=e.meta,o=l.touched,p=l.error,s=l.warning;return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"",className:"text-black"},t),c.a.createElement("input",Object.assign({},a,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:r,readOnly:i})),o&&(p&&c.a.createElement("p",{className:"invalid-feedback"},p)||s&&c.a.createElement("p",null,s)))},C=function(e){Object(i.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).inputChange=function(e){return function(a){r.setState(Object(m.a)({},e,a.target.value))}},r.state={columns:[{dataField:"tanggal",text:"Tanggal"},{dataField:"kode_customer",text:"Kode Customer"},{dataField:"piutang_gr",text:"Piutang GR"},{dataField:"piutang_rp",text:"Piutang RP"},{dataField:"titip_gr",text:"Titip GR"},{dataField:"titip_rp",text:"Titip RP"}],searchText:"",listCustomer:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.h)()),this.props.dispatch(Object(T.b)())}},{key:"onChange",value:function(){this.props.change("cashNetto",this.props.cashNetto),this.props.change("transferNetto",this.props.transferNetto)}},{key:"onSubmitToko",value:function(e){var a=this,t=e.split("|");this.props.change("kodeToko",t[0]),this.props.change("kodeCustomer",t[1]),this.props.dispatch(Object(b.c)(t[0],this.props.tanggal)),this.props.dispatch(Object(f.t)()),Object(k.b)("trx-transfer-balance/get-piutang-titipan/".concat(t[0],"&").concat(this.props.tanggal)).then((function(e){a.props.dispatch(Object(f.k)()),a.props.change("piutang_gr",e.data.piutang_gr),a.props.change("piutang_rp",e.data.piutang_rp),a.props.change("titip_gr",e.data.titip_gr),a.props.change("titip_rp",e.data.titip_rp)})).catch((function(e){return Object(E.c)("Gagal Ambil Data , Detial : ".concat(e)).then((function(){return a.props.dispatch(Object(f.k)())}))}))}},{key:"handleSubmit",value:function(e){var a=this;if(void 0===e.kode_customer_tujuan)return Object(E.e)("Mohon Isi Customer Tujuan"),!1;var t={no_transfer:this.props.noFaktur,tanggal:this.props.tanggal||Object(R.f)(),kode_customer_from:e.kode_customer,kode_customer_to:e.kode_customer_tujuan,total_jml_gr:e.piutang_gr_ambil,total_jml_rp:e.piutang_rp_ambil,total_titip_gr:e.titip_gr_ambil,total_titip_rp:e.titip_rp_ambil};Object(k.c)("trx-transfer-balance/simpan",t).then((function(){return Object(E.b)("Transfer Berhasil")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return a.props.dispatch(Object(P.g)())})).then((function(){return a.props.dispatch(Object(T.b)())})).then((function(){return window.location.reload()})).catch((function(e){return Object(E.c)("Gagal Transfer, Detail : ".concat(e))}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(g.a,{name:"tanggal",label:"Tanggal",type:"date",component:x})),c.a.createElement("div",{className:"col-md-4 col-lg-4 d-none"},c.a.createElement(g.a,{name:"kodeToko",component:x,type:"text",label:"Nama Toko"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(g.a,{name:"kode_customer",component:v.b,options:this.props.customer.map((function(e){return{value:e.kode_customer+"|"+e.nama_customer,name:e.nama_toko}})),onChange:function(a){return e.onSubmitToko(a)},type:"text",label:"Nama Toko",placeholder:"Masukan Nama Toko"})),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(g.a,{name:"kodeCustomer",component:x,type:"text",label:"Nama Customer",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_gr",component:x,type:"text",label:"Piutang GR",placeholder:"Masukan Piutang GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"piutang_rp",component:x,type:"text",label:"Piutang RP",placeholder:"Masukan Piutang RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_rp",component:x,type:"text",label:"Titip RP",placeholder:"Masukan Titip RP",readOnly:!0})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(g.a,{name:"titip_gr",component:x,type:"text",label:"Titip GR",placeholder:"Masukan Titip GR",readOnly:!0})),c.a.createElement("div",{className:"col-lg-12 col-md-12 mt-2"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:this.props.onSend,onClick:function(){return e.props.dispatch(Object(P.j)())}},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Transfer Balance"))),c.a.createElement(j.default,{content:c.a.createElement(O,{onSubmit:function(a){return e.handleSubmit(a)}}),title:"Transfer Balance"}))}}]),t}(o.Component);C=Object(d.a)({form:"FormTransferBalance",enableReinitialize:!0})(C);var F=Object(_.a)("FormTransferBalance"),G=Object(u.b)((function(e){var a=F(e,"harga","cash","transfer","tanggal"),t=a.harga,n=a.cash,r=a.transfer,i=a.tanggal;return{cashNetto:(parseFloat(n)/parseFloat(t)).toFixed(3),transferNetto:(parseFloat(r)/parseFloat(t)).toFixed(3),customer:e.provinsi.customer,piutang_gr:e.provinsi.listPiutangCustomer.piutang_gr,piutang_rp:e.provinsi.listPiutangCustomer.piutang_rp,titip_gr:e.provinsi.listPiutangCustomer.titip_gr,titip_rp:e.provinsi.listPiutangCustomer.titip_rp,tanggal:i,onSend:e.provinsi.onSend,noFaktur:e.provinsi.noFaktur}}))(C),M=function(e){Object(i.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={},r}return Object(r.a)(t,[{key:"handlSubmit",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"col-lg-12 col-d-12"},c.a.createElement("ol",{className:"breadcrumb mb-2"},c.a.createElement(p.b,{to:"/KlasifikasiCustomer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary"},c.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," ","Back"))),c.a.createElement("div",{className:"card"},c.a.createElement(s.default,{title:"Transfer Balance Customer"}),c.a.createElement("div",{className:"card-body"},c.a.createElement(G,{onSubmit:function(a){return e.handlSubmit(a)}})))))}}]),t}(o.Component);a.default=M}}]);
//# sourceMappingURL=100.bacf449e.chunk.js.map